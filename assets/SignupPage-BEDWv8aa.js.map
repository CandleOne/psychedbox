{"version":3,"file":"SignupPage-BEDWv8aa.js","sources":["../../../client/src/pages/SignupPage.tsx"],"sourcesContent":["import SiteFooter from \"@/components/SiteFooter\";\nimport SiteNavbar from \"@/components/SiteNavbar\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { useSEO } from \"@/hooks/useSEO\";\nimport { Loader2 } from \"lucide-react\";\nimport { useState, type FormEvent } from \"react\";\nimport { Link, useLocation } from \"wouter\";\n\nexport default function SignupPage() {\n  useSEO({\n    title: \"Create Account — PsychedBox\",\n    description: \"Create your PsychedBox account to start your journey into psychedelic art, community, and monthly puzzle boxes.\",\n    canonical: \"/signup\",\n  });\n\n  const { signup } = useAuth();\n  const [, navigate] = useLocation();\n  const redirectTo = new URLSearchParams(window.location.search).get(\"redirect\") || \"/account\";\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  async function handleSubmit(e: FormEvent) {\n    e.preventDefault();\n    setError(\"\");\n\n    if (password !== confirmPassword) {\n      setError(\"Passwords do not match\");\n      return;\n    }\n    if (password.length < 8) {\n      setError(\"Password must be at least 8 characters\");\n      return;\n    }\n\n    setLoading(true);\n    const result = await signup(email, password, name);\n    setLoading(false);\n    if (result.error) {\n      setError(result.error);\n    } else {\n      navigate(redirectTo);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <SiteNavbar />\n\n      <section style={{ backgroundColor: \"#FF6B6B\" }} className=\"px-6 py-16 md:py-20\">\n        <div className=\"max-w-5xl mx-auto\">\n          <p className=\"text-white/80 text-xs uppercase tracking-[0.2em] font-bold mb-4\">Account</p>\n          <h1 className=\"text-white text-4xl md:text-6xl font-black leading-tight max-w-3xl mb-6\">Create Account</h1>\n          <p className=\"text-white text-lg md:text-xl max-w-3xl\">Join the PsychedBox community.</p>\n        </div>\n      </section>\n\n      <section className=\"px-6 py-16\">\n        <div className=\"max-w-md mx-auto\">\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm\">\n                {error}\n              </div>\n            )}\n\n            <div>\n              <label htmlFor=\"name\" className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n                Name <span className=\"text-gray-400 font-normal\">(optional)</span>\n              </label>\n              <input\n                id=\"name\"\n                type=\"text\"\n                autoComplete=\"name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                className=\"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none\"\n                placeholder=\"Your name\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n                Email\n              </label>\n              <input\n                id=\"email\"\n                type=\"email\"\n                required\n                autoComplete=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none\"\n                placeholder=\"you@example.com\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n                Password\n              </label>\n              <input\n                id=\"password\"\n                type=\"password\"\n                required\n                autoComplete=\"new-password\"\n                minLength={8}\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none\"\n                placeholder=\"At least 8 characters\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"confirm-password\" className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n                Confirm Password\n              </label>\n              <input\n                id=\"confirm-password\"\n                type=\"password\"\n                required\n                autoComplete=\"new-password\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                className=\"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none\"\n                placeholder=\"••••••••\"\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              style={{ backgroundColor: \"#1a1a1a\" }}\n              className=\"w-full flex items-center justify-center gap-2 rounded-lg px-6 py-3 text-white font-bold hover:opacity-90 transition-opacity disabled:opacity-50\"\n            >\n              {loading && <Loader2 size={16} className=\"animate-spin\" />}\n              {loading ? \"Creating account…\" : \"Create Account\"}\n            </button>\n          </form>\n\n          <p className=\"mt-6 text-center text-sm text-gray-600\">\n            Already have an account?{\" \"}\n            <Link href={redirectTo !== \"/account\" ? `/login?redirect=${encodeURIComponent(redirectTo)}` : \"/login\"} className=\"font-semibold text-[#FF6B6B] hover:underline\">\n              Log in\n            </Link>\n          </p>\n        </div>\n      </section>\n\n      <SiteFooter />\n    </div>\n  );\n}\n"],"names":["SignupPage","useSEO","signup","useAuth","navigate","useLocation","redirectTo","name","setName","useState","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","loading","setLoading","handleSubmit","e","result","jsxs","jsx","SiteNavbar","Loader2","Link","SiteFooter"],"mappings":"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"}