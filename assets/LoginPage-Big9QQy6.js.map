{"version":3,"file":"LoginPage-Big9QQy6.js","sources":["../../../client/src/pages/LoginPage.tsx"],"sourcesContent":["import SiteFooter from \"@/components/SiteFooter\";\nimport SiteNavbar from \"@/components/SiteNavbar\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { useSEO } from \"@/hooks/useSEO\";\nimport { Loader2 } from \"lucide-react\";\nimport { useState, type FormEvent } from \"react\";\nimport { Link, useLocation } from \"wouter\";\n\nexport default function LoginPage() {\n  useSEO({\n    title: \"Log In — PsychedBox\",\n    description: \"Log in to your PsychedBox account to manage your subscription, track deliveries, and access your dashboard.\",\n    canonical: \"/login\",\n  });\n\n  const { login } = useAuth();\n  const [, navigate] = useLocation();\n  const redirectTo = new URLSearchParams(window.location.search).get(\"redirect\") || \"/account\";\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  async function handleSubmit(e: FormEvent) {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n    const result = await login(email, password);\n    setLoading(false);\n    if (result.error) {\n      setError(result.error);\n    } else {\n      navigate(redirectTo);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <SiteNavbar />\n\n      <section style={{ backgroundColor: \"#FF6B6B\" }} className=\"px-6 py-16 md:py-20\">\n        <div className=\"max-w-5xl mx-auto\">\n          <p className=\"text-white/80 text-xs uppercase tracking-[0.2em] font-bold mb-4\">Account</p>\n          <h1 className=\"text-white text-4xl md:text-6xl font-black leading-tight max-w-3xl mb-6\">Log In</h1>\n          <p className=\"text-white text-lg md:text-xl max-w-3xl\">Access your PsychedBox account.</p>\n        </div>\n      </section>\n\n      <section className=\"px-6 py-16\">\n        <div className=\"max-w-md mx-auto\">\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm\">\n                {error}\n              </div>\n            )}\n\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n                Email\n              </label>\n              <input\n                id=\"email\"\n                type=\"email\"\n                required\n                autoComplete=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none\"\n                placeholder=\"you@example.com\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n                Password\n              </label>\n              <input\n                id=\"password\"\n                type=\"password\"\n                required\n                autoComplete=\"current-password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none\"\n                placeholder=\"••••••••\"\n              />\n              <div className=\"mt-1.5 text-right\">\n                <Link href=\"/forgot-password\" className=\"text-xs text-[#FF6B6B] hover:underline\">\n                  Forgot password?\n                </Link>\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              style={{ backgroundColor: \"#1a1a1a\" }}\n              className=\"w-full flex items-center justify-center gap-2 rounded-lg px-6 py-3 text-white font-bold hover:opacity-90 transition-opacity disabled:opacity-50\"\n            >\n              {loading && <Loader2 size={16} className=\"animate-spin\" />}\n              {loading ? \"Logging in…\" : \"Log In\"}\n            </button>\n          </form>\n\n          <p className=\"mt-6 text-center text-sm text-gray-600\">\n            Don&apos;t have an account?{\" \"}\n            <Link href={redirectTo !== \"/account\" ? `/signup?redirect=${encodeURIComponent(redirectTo)}` : \"/signup\"} className=\"font-semibold text-[#FF6B6B] hover:underline\">\n              Sign up\n            </Link>\n          </p>\n        </div>\n      </section>\n\n      <SiteFooter />\n    </div>\n  );\n}\n"],"names":["LoginPage","useSEO","login","useAuth","navigate","useLocation","redirectTo","email","setEmail","useState","password","setPassword","error","setError","loading","setLoading","handleSubmit","e","result","jsxs","jsx","SiteNavbar","Link","Loader2","SiteFooter"],"mappings":"kIAQA,SAAwBA,GAAY,CAClCC,EAAO,CACL,MAAO,sBACP,YAAa,8GACb,UAAW,QAAA,CACZ,EAED,KAAM,CAAE,MAAAC,CAAA,EAAUC,EAAA,EACZ,CAAA,CAAGC,CAAQ,EAAIC,EAAA,EACfC,EAAa,IAAI,gBAAgB,OAAO,SAAS,MAAM,EAAE,IAAI,UAAU,GAAK,WAC5E,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAC/B,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAAS,EAAE,EACrC,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAS,EAAE,EAC/B,CAACK,EAASC,CAAU,EAAIN,EAAAA,SAAS,EAAK,EAE5C,eAAeO,EAAaC,EAAc,CACxCA,EAAE,eAAA,EACFJ,EAAS,EAAE,EACXE,EAAW,EAAI,EACf,MAAMG,EAAS,MAAMhB,EAAMK,EAAOG,CAAQ,EAC1CK,EAAW,EAAK,EACZG,EAAO,MACTL,EAASK,EAAO,KAAK,EAErBd,EAASE,CAAU,CAEvB,CAEA,OACEa,EAAAA,KAAC,MAAA,gDAAI,UAAU,wBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAS,WAAA,mCAAA,CAAE,QAEX,UAAA,CAAM,WAAA,oCAAE,MAAO,CAAE,gBAAiB,WAAa,UAAU,sBACxD,SAAAF,EAAAA,KAAC,MAAA,CAAE,WAAA,oCAAE,UAAU,oBACb,SAAA,CAAAC,MAAC,IAAA,gDAAE,UAAU,kEAAkE,SAAA,UAAO,QACrF,KAAA,gDAAG,UAAU,0EAA0E,SAAA,SAAM,QAC7F,IAAA,gDAAE,UAAU,0CAA0C,SAAA,iCAAA,CAA+B,CAAA,CAAA,CACxF,CAAA,CACF,EAEAA,EAAAA,IAAC,UAAA,CAAM,WAAA,oCAAE,UAAU,aACjB,SAAAD,EAAAA,KAAC,MAAA,gDAAI,UAAU,mBACb,SAAA,CAAAA,OAAC,QAAG,WAAA,oCAAE,SAAUH,EAAc,UAAU,YACrC,SAAA,CAAAJ,SACE,MAAA,CAAE,WAAA,oCAAE,UAAU,4EACZ,SAAAA,EACH,EAGFO,EAAAA,KAAC,MAAA,CAAE,WAAA,oCACD,SAAA,CAAAC,EAAAA,IAAC,SAAI,WAAA,oCAAE,QAAQ,QAAQ,UAAU,mDAAkD,SAAA,OAAA,CAEnF,EACAA,EAAAA,IAAC,QAAA,CAAI,WAAA,oCACH,GAAG,QACH,KAAK,QACL,SAAO,GACP,aAAa,QACb,MAAOb,EACP,SAAWU,GAAMT,EAASS,EAAE,OAAO,KAAK,EACxC,UAAU,8IACV,YAAY,iBAAA,CAAA,CACd,EACF,EAEAE,EAAAA,KAAC,MAAA,CAAE,WAAA,oCACD,SAAA,CAAAC,EAAAA,IAAC,SAAI,WAAA,oCAAE,QAAQ,WAAW,UAAU,mDAAkD,SAAA,UAAA,CAEtF,EACAA,EAAAA,IAAC,QAAA,CAAI,WAAA,oCACH,GAAG,WACH,KAAK,WACL,SAAO,GACP,aAAa,mBACb,MAAOV,EACP,SAAWO,GAAMN,EAAYM,EAAE,OAAO,KAAK,EAC3C,UAAU,8IACV,YAAY,UAAA,CAAA,EAEdG,MAAC,MAAA,gDAAI,UAAU,oBACb,SAAAA,MAACE,EAAA,gDAAK,KAAK,mBAAmB,UAAU,yCAAwC,4BAEhF,CAAA,CACF,CAAA,EACF,EAEAH,EAAAA,KAAC,SAAA,CAAK,WAAA,oCACJ,KAAK,SACL,SAAUL,EACV,MAAO,CAAE,gBAAiB,SAAA,EAC1B,UAAU,kJAET,SAAA,CAAAA,SAAYS,EAAA,iDAAQ,KAAM,GAAI,UAAU,eAAe,EACvDT,EAAU,cAAgB,QAAA,CAAA,CAAA,CAC7B,EACF,EAEAK,EAAAA,KAAC,IAAA,CAAA,WAAA,qCAAE,UAAU,yCAAwC,SAAA,CAAA,yBACvB,IAC5BC,EAAAA,IAACE,EAAA,CAAG,WAAA,qCAAE,KAAMhB,IAAe,WAAa,oBAAoB,mBAAmBA,CAAU,CAAC,GAAK,UAAW,UAAU,+CAA8C,SAAA,SAAA,CAElK,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAEAc,EAAAA,IAACI,EAAA,CAAS,WAAA,oCAAA,CAAE,CAAA,EACd,CAEJ"}