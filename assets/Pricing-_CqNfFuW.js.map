{"version":3,"file":"Pricing-_CqNfFuW.js","sources":["../../../client/src/pages/Pricing.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Check, Loader2 } from \"lucide-react\";\nimport SiteFooter from \"@/components/SiteFooter\";\nimport SiteNavbar from \"@/components/SiteNavbar\";\nimport { useCheckout } from \"@/hooks/useCheckout\";\nimport { PLANS } from \"@shared/payments\";\n\nexport default function Pricing() {\n  const { checkout, loading, error } = useCheckout();\n  const [donationAmount, setDonationAmount] = useState(10);\n  const [activePlan, setActivePlan] = useState<string | null>(null);\n\n  const subscriptionPlans = PLANS.filter(\n    (p) => p.interval !== \"one_time\" && p.id !== \"donation\"\n  );\n  const giftPlan = PLANS.find((p) => p.id === \"gift\")!;\n  const donationPlan = PLANS.find((p) => p.id === \"donation\")!;\n\n  function handleCheckout(planId: string, donationCents?: number) {\n    setActivePlan(planId);\n    checkout(planId, donationCents);\n  }\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <SiteNavbar />\n\n      {/* Header */}\n      <section\n        style={{ backgroundColor: \"#FF6B6B\" }}\n        className=\"px-6 py-16 md:py-20\"\n      >\n        <div className=\"max-w-5xl mx-auto text-center\">\n          <p className=\"text-white/80 text-xs uppercase tracking-[0.2em] font-bold mb-4\">\n            Pricing\n          </p>\n          <h1 className=\"text-white text-4xl md:text-6xl font-black leading-tight mb-6\">\n            Choose Your Plan\n          </h1>\n          <p className=\"text-white text-lg md:text-xl max-w-2xl mx-auto\">\n            Every box delivers a unique puzzle portrait, themed goodies, and the\n            story of an inspiring community member.\n          </p>\n        </div>\n      </section>\n\n      {/* Error banner */}\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-6 py-3 text-center text-sm\">\n          {error}\n        </div>\n      )}\n\n      {/* Subscription Plans */}\n      <section className=\"py-16 px-6 max-w-6xl mx-auto\">\n        <h2\n          style={{ fontSize: \"2rem\", fontWeight: 800 }}\n          className=\"text-center mb-12 text-gray-900\"\n        >\n          Subscriptions\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          {subscriptionPlans.map((plan) => {\n            const isPopular = plan.popular;\n            const isLoading = loading && activePlan === plan.id;\n            return (\n              <div\n                key={plan.id}\n                style={{\n                  borderColor: isPopular ? \"#FF6B6B\" : \"#E0E0E0\",\n                  borderWidth: isPopular ? \"3px\" : \"1px\",\n                }}\n                className=\"rounded-lg p-8 bg-white relative flex flex-col\"\n              >\n                {isPopular && (\n                  <span\n                    style={{ backgroundColor: \"#FF6B6B\" }}\n                    className=\"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 text-xs font-bold text-white rounded-full uppercase tracking-wide\"\n                  >\n                    Most Popular\n                  </span>\n                )}\n                <h3 className=\"text-2xl font-bold mb-2 text-gray-900\">\n                  {plan.name}\n                </h3>\n                <p\n                  style={{\n                    fontSize: \"2.5rem\",\n                    fontWeight: 900,\n                    color: \"#FF6B6B\",\n                  }}\n                  className=\"mb-1\"\n                >\n                  {plan.displayPrice}\n                </p>\n                <p className=\"text-gray-400 text-sm mb-4\">\n                  {plan.interval === \"month\"\n                    ? \"/month\"\n                    : plan.interval === \"quarter\"\n                      ? \"/quarter\"\n                      : \"/year\"}\n                </p>\n                <p className=\"text-gray-600 mb-6\">{plan.description}</p>\n                <ul className=\"space-y-3 mb-8 flex-1\">\n                  {plan.features.map((f, j) => (\n                    <li\n                      key={j}\n                      className=\"flex items-center gap-2 text-gray-700\"\n                    >\n                      <Check\n                        size={16}\n                        style={{ color: \"#FF6B6B\" }}\n                        className=\"flex-shrink-0\"\n                      />\n                      {f}\n                    </li>\n                  ))}\n                </ul>\n                <button\n                  onClick={() => handleCheckout(plan.id)}\n                  disabled={loading}\n                  style={{\n                    backgroundColor: isPopular ? \"#FF6B6B\" : \"#F0F0F0\",\n                    color: isPopular ? \"white\" : \"#333\",\n                  }}\n                  className=\"w-full py-3 font-bold rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center justify-center gap-2\"\n                >\n                  {isLoading && <Loader2 size={16} className=\"animate-spin\" />}\n                  {isLoading ? \"Redirecting…\" : \"Subscribe\"}\n                </button>\n              </div>\n            );\n          })}\n        </div>\n      </section>\n\n      {/* One-time Purchases */}\n      <section\n        style={{ backgroundColor: \"#F0F0F0\" }}\n        className=\"py-16 px-6\"\n      >\n        <div className=\"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8\">\n          {/* Gift Box */}\n          <div className=\"rounded-lg p-8 bg-white border border-gray-200 flex flex-col\">\n            <h3 className=\"text-2xl font-bold mb-2 text-gray-900\">\n              {giftPlan.name}\n            </h3>\n            <p\n              style={{\n                fontSize: \"2.5rem\",\n                fontWeight: 900,\n                color: \"#FF6B6B\",\n              }}\n              className=\"mb-1\"\n            >\n              {giftPlan.displayPrice}\n            </p>\n            <p className=\"text-gray-400 text-sm mb-4\">one-time</p>\n            <p className=\"text-gray-600 mb-6\">{giftPlan.description}</p>\n            <ul className=\"space-y-3 mb-8 flex-1\">\n              {giftPlan.features.map((f, j) => (\n                <li\n                  key={j}\n                  className=\"flex items-center gap-2 text-gray-700\"\n                >\n                  <Check\n                    size={16}\n                    style={{ color: \"#FF6B6B\" }}\n                    className=\"flex-shrink-0\"\n                  />\n                  {f}\n                </li>\n              ))}\n            </ul>\n            <button\n              onClick={() => handleCheckout(giftPlan.id)}\n              disabled={loading}\n              style={{ backgroundColor: \"#FF6B6B\" }}\n              className=\"w-full py-3 font-bold text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center justify-center gap-2\"\n            >\n              {loading && activePlan === giftPlan.id && (\n                <Loader2 size={16} className=\"animate-spin\" />\n              )}\n              {loading && activePlan === giftPlan.id\n                ? \"Redirecting…\"\n                : \"Buy Gift Box\"}\n            </button>\n          </div>\n\n          {/* Donation */}\n          <div className=\"rounded-lg p-8 bg-white border border-gray-200 flex flex-col\">\n            <h3 className=\"text-2xl font-bold mb-2 text-gray-900\">\n              {donationPlan.name}\n            </h3>\n            <p\n              style={{\n                fontSize: \"2.5rem\",\n                fontWeight: 900,\n                color: \"#FF6B6B\",\n              }}\n              className=\"mb-1\"\n            >\n              ${donationAmount}\n            </p>\n            <p className=\"text-gray-400 text-sm mb-4\">one-time donation</p>\n            <p className=\"text-gray-600 mb-6\">{donationPlan.description}</p>\n            <ul className=\"space-y-3 mb-6 flex-1\">\n              {donationPlan.features.map((f, j) => (\n                <li\n                  key={j}\n                  className=\"flex items-center gap-2 text-gray-700\"\n                >\n                  <Check\n                    size={16}\n                    style={{ color: \"#FF6B6B\" }}\n                    className=\"flex-shrink-0\"\n                  />\n                  {f}\n                </li>\n              ))}\n            </ul>\n\n            {/* Amount selector */}\n            <div className=\"flex gap-2 mb-6 flex-wrap\">\n              {[5, 10, 25, 50, 100].map((amt) => (\n                <button\n                  key={amt}\n                  onClick={() => setDonationAmount(amt)}\n                  style={{\n                    backgroundColor:\n                      donationAmount === amt ? \"#FF6B6B\" : \"#F0F0F0\",\n                    color: donationAmount === amt ? \"white\" : \"#333\",\n                  }}\n                  className=\"px-4 py-2 rounded-lg font-bold text-sm hover:opacity-90 transition-opacity\"\n                >\n                  ${amt}\n                </button>\n              ))}\n              <input\n                type=\"number\"\n                min={1}\n                value={donationAmount}\n                onChange={(e) =>\n                  setDonationAmount(Math.max(1, Number(e.target.value)))\n                }\n                className=\"w-20 px-3 py-2 border border-gray-300 rounded-lg text-sm text-center\"\n              />\n            </div>\n\n            <button\n              onClick={() =>\n                handleCheckout(donationPlan.id, donationAmount * 100)\n              }\n              disabled={loading}\n              style={{ backgroundColor: \"#FF6B6B\" }}\n              className=\"w-full py-3 font-bold text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center justify-center gap-2\"\n            >\n              {loading && activePlan === donationPlan.id && (\n                <Loader2 size={16} className=\"animate-spin\" />\n              )}\n              {loading && activePlan === donationPlan.id\n                ? \"Redirecting…\"\n                : `Donate $${donationAmount}`}\n            </button>\n          </div>\n        </div>\n      </section>\n\n      {/* FAQ */}\n      <section className=\"py-16 px-6 max-w-3xl mx-auto\">\n        <h2\n          style={{ fontSize: \"2rem\", fontWeight: 800 }}\n          className=\"text-center mb-10 text-gray-900\"\n        >\n          Payment FAQ\n        </h2>\n        <div className=\"space-y-6\">\n          {[\n            {\n              q: \"What payment methods do you accept?\",\n              a: \"We accept all major credit and debit cards (Visa, Mastercard, Amex, Discover), Apple Pay, Google Pay, and more through our secure Stripe checkout.\",\n            },\n            {\n              q: \"Can I cancel my subscription?\",\n              a: \"Absolutely. You can cancel anytime from your account page. You'll still receive boxes for the remainder of your paid period.\",\n            },\n            {\n              q: \"Is my payment information secure?\",\n              a: \"Yes — we never see or store your card details. All payments are processed securely by Stripe, a PCI Level 1 certified payment processor.\",\n            },\n            {\n              q: \"Do you offer refunds?\",\n              a: \"We offer full refunds within 14 days of purchase if your box hasn't shipped yet. Visit the Returns page for more details.\",\n            },\n          ].map((item, i) => (\n            <div key={i}>\n              <h3 className=\"font-bold text-gray-900 mb-1\">{item.q}</h3>\n              <p className=\"text-gray-600\">{item.a}</p>\n            </div>\n          ))}\n        </div>\n      </section>\n\n      <SiteFooter />\n    </div>\n  );\n}\n"],"names":["Pricing","checkout","loading","error","useCheckout","donationAmount","setDonationAmount","useState","activePlan","setActivePlan","subscriptionPlans","PLANS","p","giftPlan","donationPlan","handleCheckout","planId","donationCents","jsxs","jsx","SiteNavbar","plan","isPopular","isLoading","j","Check","Loader2","f","amt","e","item","i","SiteFooter"],"mappings":"2HAOA,SAAwBA,GAAU,CAChC,KAAM,CAAE,SAAAC,EAAU,QAAAC,EAAS,MAAAC,CAAA,EAAUC,EAAA,EAC/B,CAACC,EAAgBC,CAAiB,EAAIC,EAAAA,SAAS,EAAE,EACjD,CAACC,EAAYC,CAAa,EAAIF,EAAAA,SAAwB,IAAI,EAE1DG,EAAoBC,EAAM,OAC7BC,GAAMA,EAAE,WAAa,YAAcA,EAAE,KAAO,UAAA,EAEzCC,EAAWF,EAAM,KAAMC,GAAMA,EAAE,KAAO,MAAM,EAC5CE,EAAeH,EAAM,KAAMC,GAAMA,EAAE,KAAO,UAAU,EAE1D,SAASG,EAAeC,EAAgBC,EAAwB,CAC9DR,EAAcO,CAAM,EACpBf,EAASe,EAAQC,CAAa,CAChC,CAEA,OACEC,EAAAA,KAAC,MAAA,8CAAI,UAAU,wBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAS,WAAA,iCAAA,CAAE,EAGZD,EAAAA,IAAC,UAAA,CAAM,WAAA,kCACL,MAAO,CAAE,gBAAiB,SAAA,EAC1B,UAAU,sBAEV,SAAAD,EAAAA,KAAC,MAAA,CAAE,WAAA,kCAAE,UAAU,gCACb,SAAA,CAAAC,MAAC,IAAA,CAAA,WAAA,kCAAE,UAAU,kEAAiE,SAAA,UAE9E,QACC,KAAA,8CAAG,UAAU,gEAA+D,SAAA,mBAE7E,QACC,IAAA,CAAA,WAAA,kCAAE,UAAU,kDAAiD,SAAA,8GAAA,CAG9D,CAAA,CAAA,CACF,CAAA,CAAA,EAIDhB,GACCgB,EAAAA,IAAC,MAAA,8CAAI,UAAU,6EACZ,SAAAhB,EACH,EAIFe,EAAAA,KAAC,UAAA,8CAAQ,UAAU,+BACjB,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAC,WAAA,kCACA,MAAO,CAAE,SAAU,OAAQ,WAAY,GAAA,EACvC,UAAU,kCACZ,SAAA,eAAA,CAAA,EAGAA,EAAAA,IAAC,OAAE,WAAA,kCAAE,UAAU,wCACZ,SAAAT,EAAkB,IAAKW,GAAS,CAC/B,MAAMC,EAAYD,EAAK,QACjBE,EAAYrB,GAAWM,IAAea,EAAK,GACjD,OACEH,EAAAA,KAAC,MAAA,CAAE,WAAA,kCAED,MAAO,CACL,YAAaI,EAAY,UAAY,UACrC,YAAaA,EAAY,MAAQ,KAAA,EAEnC,UAAU,iDAET,SAAA,CAAAA,GACCH,EAAAA,IAAC,OAAA,CAAG,WAAA,kCACF,MAAO,CAAE,gBAAiB,SAAA,EAC1B,UAAU,wHACZ,SAAA,cAAA,CAAA,QAID,KAAA,CAAC,WAAA,kCAAE,UAAU,wCACX,WAAK,KACR,EACAA,EAAAA,IAAC,IAAA,CAAA,WAAA,kCACC,MAAO,CACL,SAAU,SACV,WAAY,IACZ,MAAO,SAAA,EAET,UAAU,OAET,SAAAE,EAAK,YAAA,CAAA,EAERF,EAAAA,IAAC,IAAA,CAAA,WAAA,kCAAE,UAAU,6BACV,SAAAE,EAAK,WAAa,QACf,SACAA,EAAK,WAAa,UAChB,WACA,QACR,QACC,IAAA,CAAA,WAAA,mCAAE,UAAU,qBAAsB,WAAK,YAAY,EACpDF,EAAAA,IAAC,KAAA,CAAC,WAAA,mCAAE,UAAU,wBACX,SAAAE,EAAK,SAAS,IAAI,CAAC,EAAGG,IACrBN,EAAAA,KAAC,KAAA,CAAC,WAAA,mCAEA,UAAU,wCAEV,SAAA,CAAAC,EAAAA,IAACM,EAAA,CAAI,WAAA,mCACH,KAAM,GACN,MAAO,CAAE,MAAO,SAAA,EAChB,UAAU,eAAA,CAAA,EAEX,CAAA,CAAA,EARID,CAAA,CAUR,EACH,EACAN,EAAAA,KAAC,SAAA,CAAK,WAAA,mCACJ,QAAS,IAAMH,EAAeM,EAAK,EAAE,EACrC,SAAUnB,EACV,MAAO,CACL,gBAAiBoB,EAAY,UAAY,UACzC,MAAOA,EAAY,QAAU,MAAA,EAE/B,UAAU,kIAET,SAAA,CAAAC,SAAcG,EAAA,CAAM,WAAA,mCAAE,KAAM,GAAI,UAAU,eAAe,EACzDH,EAAY,eAAiB,WAAA,CAAA,CAAA,CAChC,CAAA,EA9DKF,EAAK,EAAA,CAiEhB,CAAC,CAAA,CACH,CAAA,EACF,EAGAF,EAAAA,IAAC,UAAA,CAAM,WAAA,mCACL,MAAO,CAAE,gBAAiB,SAAA,EAC1B,UAAU,aAEV,SAAAD,EAAAA,KAAC,MAAA,+CAAI,UAAU,0DAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAE,WAAA,mCAAE,UAAU,+DACb,SAAA,CAAAC,MAAC,MAAC,WAAA,mCAAE,UAAU,wCACX,WAAS,KACZ,EACAA,EAAAA,IAAC,IAAA,CAAA,WAAA,mCACC,MAAO,CACL,SAAU,SACV,WAAY,IACZ,MAAO,SAAA,EAET,UAAU,OAET,SAAAN,EAAS,YAAA,CAAA,QAEX,IAAA,CAAA,WAAA,mCAAE,UAAU,6BAA6B,SAAA,WAAQ,QACjD,IAAA,CAAA,WAAA,mCAAE,UAAU,qBAAsB,WAAS,YAAY,EACxDM,EAAAA,IAAC,KAAA,+CAAG,UAAU,wBACX,SAAAN,EAAS,SAAS,IAAI,CAACc,EAAGH,IACzBN,EAAAA,KAAC,KAAA,CAAC,WAAA,mCAEA,UAAU,wCAEV,SAAA,CAAAC,EAAAA,IAACM,EAAA,CAAI,WAAA,mCACH,KAAM,GACN,MAAO,CAAE,MAAO,SAAA,EAChB,UAAU,eAAA,CAAA,EAEXE,CAAA,CAAA,EARIH,CAAA,CAUR,EACH,EACAN,EAAAA,KAAC,SAAA,CAAK,WAAA,mCACJ,QAAS,IAAMH,EAAeF,EAAS,EAAE,EACzC,SAAUX,EACV,MAAO,CAAE,gBAAiB,SAAA,EAC1B,UAAU,6IAET,SAAA,CAAAA,GAAWM,IAAeK,EAAS,IAClCM,EAAAA,IAACO,EAAA,CAAM,WAAA,mCAAE,KAAM,GAAI,UAAU,cAAA,CAAe,EAE7CxB,GAAWM,IAAeK,EAAS,GAChC,eACA,cAAA,CAAA,CAAA,CACN,EACF,EAGAK,EAAAA,KAAC,MAAA,CAAE,WAAA,mCAAE,UAAU,+DACb,SAAA,CAAAC,MAAC,MAAC,WAAA,mCAAE,UAAU,wCACX,WAAa,KAChB,EACAD,EAAAA,KAAC,IAAA,CAAA,WAAA,mCACC,MAAO,CACL,SAAU,SACV,WAAY,IACZ,MAAO,SAAA,EAET,UAAU,OACZ,SAAA,CAAA,IACIb,CAAA,CAAA,CAAA,QAEH,IAAA,CAAA,WAAA,mCAAE,UAAU,6BAA6B,SAAA,oBAAiB,QAC1D,IAAA,CAAA,WAAA,mCAAE,UAAU,qBAAsB,WAAa,YAAY,EAC5Dc,EAAAA,IAAC,KAAA,+CAAG,UAAU,wBACX,SAAAL,EAAa,SAAS,IAAI,CAACa,EAAGH,IAC7BN,EAAAA,KAAC,KAAA,CAAC,WAAA,mCAEA,UAAU,wCAEV,SAAA,CAAAC,EAAAA,IAACM,EAAA,CAAI,WAAA,mCACH,KAAM,GACN,MAAO,CAAE,MAAO,SAAA,EAChB,UAAU,eAAA,CAAA,EAEXE,CAAA,CAAA,EARIH,CAAA,CAUR,EACH,EAGAN,EAAAA,KAAC,MAAA,CAAE,WAAA,mCAAE,UAAU,4BACZ,SAAA,CAAA,CAAC,EAAG,GAAI,GAAI,GAAI,GAAG,EAAE,IAAKU,GACzBV,EAAAA,KAAC,SAAA,CAAK,WAAA,mCAEJ,QAAS,IAAMZ,EAAkBsB,CAAG,EACpC,MAAO,CACL,gBACEvB,IAAmBuB,EAAM,UAAY,UACvC,MAAOvB,IAAmBuB,EAAM,QAAU,MAAA,EAE5C,UAAU,6EACZ,SAAA,CAAA,IACIA,CAAA,CAAA,EATGA,CAAA,CAWR,EACDT,EAAAA,IAAC,QAAA,CAAI,WAAA,mCACH,KAAK,SACL,IAAK,EACL,MAAOd,EACP,SAAWwB,GACTvB,EAAkB,KAAK,IAAI,EAAG,OAAOuB,EAAE,OAAO,KAAK,CAAC,CAAC,EAEvD,UAAU,sEAAA,CAAA,CACZ,EACF,EAEAX,EAAAA,KAAC,SAAA,CAAK,WAAA,mCACJ,QAAS,IACPH,EAAeD,EAAa,GAAIT,EAAiB,GAAG,EAEtD,SAAUH,EACV,MAAO,CAAE,gBAAiB,SAAA,EAC1B,UAAU,6IAET,SAAA,CAAAA,GAAWM,IAAeM,EAAa,IACtCK,EAAAA,IAACO,EAAA,CAAM,WAAA,mCAAE,KAAM,GAAI,UAAU,cAAA,CAAe,EAE7CxB,GAAWM,IAAeM,EAAa,GACpC,eACA,WAAWT,CAAc,EAAA,CAAA,CAAA,CAC/B,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EAIFa,EAAAA,KAAC,UAAA,+CAAQ,UAAU,+BACjB,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAC,WAAA,mCACA,MAAO,CAAE,SAAU,OAAQ,WAAY,GAAA,EACvC,UAAU,kCACZ,SAAA,aAAA,CAAA,EAGAA,EAAAA,IAAC,MAAA,CAAE,WAAA,mCAAE,UAAU,YACZ,SAAA,CACC,CACE,EAAG,sCACH,EAAG,oJAAA,EAEL,CACE,EAAG,gCACH,EAAG,8HAAA,EAEL,CACE,EAAG,oCACH,EAAG,0IAAA,EAEL,CACE,EAAG,wBACH,EAAG,2HAAA,CACL,EACA,IAAI,CAACW,EAAMC,IACXb,EAAAA,KAAC,MAAA,+CACC,SAAA,CAAAC,MAAC,MAAC,WAAA,mCAAE,UAAU,+BAAgC,WAAK,EAAE,QACpD,IAAA,CAAA,WAAA,mCAAE,UAAU,gBAAiB,WAAK,CAAA,CAAE,CAAA,CAAA,EAF7BY,CAGV,CACD,CAAA,CACH,CAAA,EACF,EAEAZ,EAAAA,IAACa,EAAA,CAAS,WAAA,kCAAA,CAAE,CAAA,EACd,CAEJ"}