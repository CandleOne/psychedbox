{"version":3,"file":"ForgotPasswordPage-CEl_2EUc.js","sources":["../../../client/src/pages/ForgotPasswordPage.tsx"],"sourcesContent":["import SiteFooter from \"@/components/SiteFooter\";\nimport SiteNavbar from \"@/components/SiteNavbar\";\nimport { useSEO } from \"@/hooks/useSEO\";\nimport { Loader2, CheckCircle } from \"lucide-react\";\nimport { useState, type FormEvent } from \"react\";\nimport { Link } from \"wouter\";\n\nexport default function ForgotPasswordPage() {\n  useSEO({\n    title: \"Forgot Password — PsychedBox\",\n    description: \"Reset your PsychedBox account password.\",\n    canonical: \"/forgot-password\",\n  });\n\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [sent, setSent] = useState(false);\n\n  async function handleSubmit(e: FormEvent) {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      const res = await fetch(\"/api/auth/forgot-password\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email }),\n        credentials: \"include\",\n      });\n      const data = await res.json();\n      if (!res.ok) {\n        setError(data.error || \"Something went wrong\");\n      } else {\n        setSent(true);\n      }\n    } catch {\n      setError(\"Network error. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <SiteNavbar />\n\n      <section style={{ backgroundColor: \"#FF6B6B\" }} className=\"px-6 py-16 md:py-20\">\n        <div className=\"max-w-5xl mx-auto\">\n          <p className=\"text-white/80 text-xs uppercase tracking-[0.2em] font-bold mb-4\">Account</p>\n          <h1 className=\"text-white text-4xl md:text-6xl font-black leading-tight max-w-3xl mb-6\">Forgot Password</h1>\n          <p className=\"text-white text-lg md:text-xl max-w-3xl\">Enter your email and we'll send you a reset link.</p>\n        </div>\n      </section>\n\n      <section className=\"px-6 py-16\">\n        <div className=\"max-w-md mx-auto\">\n          {sent ? (\n            <div className=\"text-center space-y-4\">\n              <CheckCircle size={48} className=\"mx-auto text-green-500\" />\n              <h2 className=\"text-xl font-bold text-gray-900\">Check your email</h2>\n              <p className=\"text-gray-600\">\n                If an account exists for <strong>{email}</strong>, we've sent a password reset link.\n                It expires in 1 hour.\n              </p>\n              <Link\n                href=\"/login\"\n                className=\"inline-flex items-center justify-center px-6 py-3 rounded-lg border-2 border-gray-900 text-gray-900 font-bold hover:bg-gray-50 transition-colors\"\n              >\n                Back to Login\n              </Link>\n            </div>\n          ) : (\n            <>\n              <form onSubmit={handleSubmit} className=\"space-y-5\">\n                {error && (\n                  <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm\">\n                    {error}\n                  </div>\n                )}\n\n                <div>\n                  <label htmlFor=\"email\" className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n                    Email address\n                  </label>\n                  <input\n                    id=\"email\"\n                    type=\"email\"\n                    required\n                    autoComplete=\"email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    className=\"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none\"\n                    placeholder=\"you@example.com\"\n                  />\n                </div>\n\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  style={{ backgroundColor: \"#1a1a1a\" }}\n                  className=\"w-full flex items-center justify-center gap-2 rounded-lg px-6 py-3 text-white font-bold hover:opacity-90 transition-opacity disabled:opacity-50\"\n                >\n                  {loading && <Loader2 size={16} className=\"animate-spin\" />}\n                  {loading ? \"Sending…\" : \"Send Reset Link\"}\n                </button>\n              </form>\n\n              <p className=\"mt-6 text-center text-sm text-gray-600\">\n                Remember your password?{\" \"}\n                <Link href=\"/login\" className=\"font-semibold text-[#FF6B6B] hover:underline\">\n                  Log in\n                </Link>\n              </p>\n            </>\n          )}\n        </div>\n      </section>\n\n      <SiteFooter />\n    </div>\n  );\n}\n"],"names":["ForgotPasswordPage","useSEO","email","setEmail","useState","error","setError","loading","setLoading","sent","setSent","handleSubmit","e","res","data","jsxs","jsx","SiteNavbar","CheckCircle","Link","Fragment","Loader2","SiteFooter"],"mappings":"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"}