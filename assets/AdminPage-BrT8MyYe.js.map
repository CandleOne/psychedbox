{"version":3,"file":"AdminPage-BrT8MyYe.js","sources":["../../../node_modules/.pnpm/lucide-react@0.453.0_react@19.2.1/node_modules/lucide-react/dist/esm/icons/activity.js","../../../node_modules/.pnpm/lucide-react@0.453.0_react@19.2.1/node_modules/lucide-react/dist/esm/icons/chevron-down.js","../../../node_modules/.pnpm/lucide-react@0.453.0_react@19.2.1/node_modules/lucide-react/dist/esm/icons/chevron-up.js","../../../node_modules/.pnpm/lucide-react@0.453.0_react@19.2.1/node_modules/lucide-react/dist/esm/icons/database.js","../../../node_modules/.pnpm/lucide-react@0.453.0_react@19.2.1/node_modules/lucide-react/dist/esm/icons/eye-off.js","../../../node_modules/.pnpm/lucide-react@0.453.0_react@19.2.1/node_modules/lucide-react/dist/esm/icons/eye.js","../../../node_modules/.pnpm/lucide-react@0.453.0_react@19.2.1/node_modules/lucide-react/dist/esm/icons/file-text.js","../../../node_modules/.pnpm/lucide-react@0.453.0_react@19.2.1/node_modules/lucide-react/dist/esm/icons/play.js","../../../node_modules/.pnpm/lucide-react@0.453.0_react@19.2.1/node_modules/lucide-react/dist/esm/icons/send.js","../../../client/src/pages/AdminPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Activity = createLucideIcon(\"Activity\", [\n  [\n    \"path\",\n    {\n      d: \"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2\",\n      key: \"169zse\"\n    }\n  ]\n]);\n\nexport { Activity as default };\n//# sourceMappingURL=activity.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronDown = createLucideIcon(\"ChevronDown\", [\n  [\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]\n]);\n\nexport { ChevronDown as default };\n//# sourceMappingURL=chevron-down.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronUp = createLucideIcon(\"ChevronUp\", [[\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]]);\n\nexport { ChevronUp as default };\n//# sourceMappingURL=chevron-up.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Database = createLucideIcon(\"Database\", [\n  [\"ellipse\", { cx: \"12\", cy: \"5\", rx: \"9\", ry: \"3\", key: \"msslwz\" }],\n  [\"path\", { d: \"M3 5V19A9 3 0 0 0 21 19V5\", key: \"1wlel7\" }],\n  [\"path\", { d: \"M3 12A9 3 0 0 0 21 12\", key: \"mv7ke4\" }]\n]);\n\nexport { Database as default };\n//# sourceMappingURL=database.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst EyeOff = createLucideIcon(\"EyeOff\", [\n  [\n    \"path\",\n    {\n      d: \"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49\",\n      key: \"ct8e1f\"\n    }\n  ],\n  [\"path\", { d: \"M14.084 14.158a3 3 0 0 1-4.242-4.242\", key: \"151rxh\" }],\n  [\n    \"path\",\n    {\n      d: \"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143\",\n      key: \"13bj9a\"\n    }\n  ],\n  [\"path\", { d: \"m2 2 20 20\", key: \"1ooewy\" }]\n]);\n\nexport { EyeOff as default };\n//# sourceMappingURL=eye-off.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Eye = createLucideIcon(\"Eye\", [\n  [\n    \"path\",\n    {\n      d: \"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0\",\n      key: \"1nclc0\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Eye as default };\n//# sourceMappingURL=eye.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileText = createLucideIcon(\"FileText\", [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"M10 9H8\", key: \"b1mrlr\" }],\n  [\"path\", { d: \"M16 13H8\", key: \"t4e002\" }],\n  [\"path\", { d: \"M16 17H8\", key: \"z1uh3a\" }]\n]);\n\nexport { FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Play = createLucideIcon(\"Play\", [\n  [\"polygon\", { points: \"6 3 20 12 6 21 6 3\", key: \"1oa8hb\" }]\n]);\n\nexport { Play as default };\n//# sourceMappingURL=play.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Send = createLucideIcon(\"Send\", [\n  [\n    \"path\",\n    {\n      d: \"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",\n      key: \"1ffxy3\"\n    }\n  ],\n  [\"path\", { d: \"m21.854 2.147-10.94 10.939\", key: \"12cjpa\" }]\n]);\n\nexport { Send as default };\n//# sourceMappingURL=send.js.map\n","import SiteFooter from \"@/components/SiteFooter\";\nimport SiteNavbar from \"@/components/SiteNavbar\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { useSEO } from \"@/hooks/useSEO\";\nimport { Loader2, Users, FileText, Mail, Activity, Shield, Trash2, Search, Database, Play, ChevronDown, ChevronUp, Eye, EyeOff, Plus, Send, CheckCircle, AlertCircle, ShoppingBag } from \"lucide-react\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { Link, useLocation } from \"wouter\";\n\n// ─── Types ───────────────────────────────────────────────────────────────────\n\ninterface Stats {\n  users: number;\n  admins: number;\n  subscribers: number;\n  blogPosts: number;\n  publishedPosts: number;\n  activeSessions: number;\n  signupsByDay: { date: string; count: number }[];\n  usersByPlan: { plan: string; count: number }[];\n}\n\ninterface AdminUser {\n  id: number;\n  email: string;\n  name: string;\n  role: string;\n  plan: string | null;\n  created_at: string;\n}\n\ninterface BlogPostRow {\n  id: number;\n  slug: string;\n  title: string;\n  category: string;\n  published: number;\n  author: string;\n  created_at: string;\n}\n\ninterface Subscriber {\n  id: number;\n  email: string;\n  source: string;\n  created_at: string;\n}\n\ninterface TableInfo {\n  name: string;\n  rowCount: number;\n  columns: { name: string; type: string; notnull: number; pk: number }[];\n}\n\n// ─── Helpers ─────────────────────────────────────────────────────────────────\n\nasync function api<T>(url: string, opts?: RequestInit): Promise<T> {\n  const res = await fetch(url, { ...opts, headers: { \"Content-Type\": \"application/json\", ...opts?.headers } });\n  if (!res.ok) {\n    const data = await res.json().catch(() => ({}));\n    throw new Error(data.error || `HTTP ${res.status}`);\n  }\n  return res.json();\n}\n\n// ─── Tabs ────────────────────────────────────────────────────────────────────\n\ntype Tab = \"overview\" | \"users\" | \"blog\" | \"orders\" | \"subscribers\" | \"email\" | \"database\";\nconst TABS: { id: Tab; label: string; icon: React.ElementType }[] = [\n  { id: \"overview\", label: \"Overview\", icon: Activity },\n  { id: \"users\", label: \"Users\", icon: Users },\n  { id: \"blog\", label: \"Blog Posts\", icon: FileText },\n  { id: \"orders\", label: \"Orders\", icon: ShoppingBag },\n  { id: \"subscribers\", label: \"Subscribers\", icon: Mail },\n  { id: \"email\", label: \"Email\", icon: Send },\n  { id: \"database\", label: \"Database\", icon: Database },\n];\n\n// ─── Main Component ──────────────────────────────────────────────────────────\n\nexport default function AdminPage() {\n  useSEO({ title: \"Admin Dashboard — PsychedBox\", description: \"Admin dashboard for managing PsychedBox users, blog posts, subscribers, and database.\", noIndex: true });\n\n  const { user, loading: authLoading, isAdmin } = useAuth();\n  const [, navigate] = useLocation();\n  const [tab, setTab] = useState<Tab>(\"overview\");\n\n  if (authLoading) {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <SiteNavbar />\n        <div className=\"flex items-center justify-center py-32\">\n          <Loader2 size={32} className=\"animate-spin text-gray-400\" />\n        </div>\n        <SiteFooter />\n      </div>\n    );\n  }\n\n  if (!user || !isAdmin) {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <SiteNavbar />\n        <section style={{ backgroundColor: \"#FF6B6B\" }} className=\"px-6 py-16 md:py-20\">\n          <div className=\"max-w-5xl mx-auto\">\n            <p className=\"text-white/80 text-xs uppercase tracking-[0.2em] font-bold mb-4\">Admin</p>\n            <h1 className=\"text-white text-4xl md:text-6xl font-black leading-tight max-w-3xl mb-6\">Access Denied</h1>\n            <p className=\"text-white text-lg md:text-xl max-w-3xl\">\n              You need admin privileges to view this page.\n            </p>\n          </div>\n        </section>\n        <section className=\"px-6 py-16 text-center\">\n          <Link href=\"/account\" className=\"text-[#FF6B6B] font-semibold hover:underline\">\n            Back to Account\n          </Link>\n        </section>\n        <SiteFooter />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <SiteNavbar />\n\n      <section style={{ backgroundColor: \"#FF6B6B\" }} className=\"px-6 py-12 md:py-16\">\n        <div className=\"max-w-7xl mx-auto\">\n          <p className=\"text-white/80 text-xs uppercase tracking-[0.2em] font-bold mb-3\">Admin</p>\n          <h1 className=\"text-white text-3xl md:text-5xl font-black leading-tight\">Dashboard</h1>\n        </div>\n      </section>\n\n      {/* Tab bar */}\n      <div className=\"sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-6\">\n          <nav className=\"flex gap-1 -mb-px overflow-x-auto\">\n            {TABS.map((t) => (\n              <button\n                key={t.id}\n                onClick={() => setTab(t.id)}\n                className={`flex items-center gap-1.5 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${\n                  tab === t.id\n                    ? \"border-[#FF6B6B] text-[#FF6B6B]\"\n                    : \"border-transparent text-gray-500 hover:text-gray-700\"\n                }`}\n              >\n                <t.icon size={15} />\n                {t.label}\n              </button>\n            ))}\n          </nav>\n        </div>\n      </div>\n\n      <section className=\"px-6 py-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          {tab === \"overview\" && <OverviewTab />}\n          {tab === \"users\" && <UsersTab />}\n          {tab === \"blog\" && <BlogTab />}\n          {tab === \"orders\" && <OrdersTab />}\n          {tab === \"subscribers\" && <SubscribersTab />}\n          {tab === \"email\" && <EmailTab />}\n          {tab === \"database\" && <DatabaseTab />}\n        </div>\n      </section>\n\n      <SiteFooter />\n    </div>\n  );\n}\n\n// ─── Overview Tab ────────────────────────────────────────────────────────────\n\nfunction OverviewTab() {\n  const [stats, setStats] = useState<Stats | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    api<Stats>(\"/api/admin/stats\").then(setStats).finally(() => setLoading(false));\n  }, []);\n\n  if (loading) return <LoadingSpinner />;\n  if (!stats) return <ErrorMessage message=\"Failed to load stats\" />;\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Stat cards */}\n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n        <StatCard label=\"Users\" value={stats.users} />\n        <StatCard label=\"Admins\" value={stats.admins} />\n        <StatCard label=\"Subscribers\" value={stats.subscribers} />\n        <StatCard label=\"Blog Posts\" value={stats.blogPosts} />\n        <StatCard label=\"Published\" value={stats.publishedPosts} />\n        <StatCard label=\"Active Sessions\" value={stats.activeSessions} />\n      </div>\n\n      {/* Users by plan */}\n      <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Users by Plan</h3>\n        {stats.usersByPlan.length === 0 ? (\n          <p className=\"text-gray-500 text-sm\">No data yet</p>\n        ) : (\n          <div className=\"space-y-3\">\n            {stats.usersByPlan.map((row) => {\n              const pct = stats.users > 0 ? Math.round((row.count / stats.users) * 100) : 0;\n              return (\n                <div key={row.plan} className=\"flex items-center gap-3\">\n                  <span className=\"text-sm font-medium text-gray-700 w-24 capitalize\">{row.plan}</span>\n                  <div className=\"flex-1 h-6 bg-gray-100 rounded-full overflow-hidden\">\n                    <div\n                      className=\"h-full rounded-full\"\n                      style={{ width: `${Math.max(pct, 2)}%`, backgroundColor: \"#FF6B6B\" }}\n                    />\n                  </div>\n                  <span className=\"text-sm text-gray-500 w-20 text-right\">{row.count} ({pct}%)</span>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* Signups chart (simple bar chart) */}\n      <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Signups (Last 30 Days)</h3>\n        {stats.signupsByDay.length === 0 ? (\n          <p className=\"text-gray-500 text-sm\">No signups yet</p>\n        ) : (\n          <div className=\"flex items-end gap-1 h-40\">\n            {stats.signupsByDay.map((d) => {\n              const max = Math.max(...stats.signupsByDay.map((x) => x.count), 1);\n              const h = Math.max((d.count / max) * 100, 4);\n              return (\n                <div key={d.date} className=\"flex-1 flex flex-col items-center gap-1\">\n                  <span className=\"text-[10px] text-gray-400\">{d.count}</span>\n                  <div\n                    className=\"w-full rounded-t\"\n                    style={{ height: `${h}%`, backgroundColor: \"#FF6B6B\", minHeight: 4 }}\n                    title={`${d.date}: ${d.count}`}\n                  />\n                  <span className=\"text-[9px] text-gray-400 -rotate-45 origin-top-left mt-1 whitespace-nowrap\">\n                    {d.date.slice(5)}\n                  </span>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// ─── Users Tab ───────────────────────────────────────────────────────────────\n\nfunction UsersTab() {\n  const [users, setUsers] = useState<AdminUser[]>([]);\n  const [total, setTotal] = useState(0);\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const { user: me } = useAuth();\n\n  const loadUsers = useCallback(async () => {\n    setLoading(true);\n    try {\n      const data = await api<{ users: AdminUser[]; total: number }>(`/api/admin/users?page=${page}&search=${encodeURIComponent(search)}`);\n      setUsers(data.users);\n      setTotal(data.total);\n    } finally {\n      setLoading(false);\n    }\n  }, [page, search]);\n\n  useEffect(() => { loadUsers(); }, [loadUsers]);\n\n  async function toggleRole(u: AdminUser) {\n    const newRole = u.role === \"admin\" ? \"user\" : \"admin\";\n    await api(`/api/admin/users/${u.id}/role`, { method: \"PATCH\", body: JSON.stringify({ role: newRole }) });\n    loadUsers();\n  }\n\n  async function deleteUser(u: AdminUser) {\n    if (!confirm(`Delete user ${u.email}? This cannot be undone.`)) return;\n    await api(`/api/admin/users/${u.id}`, { method: \"DELETE\" });\n    loadUsers();\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center gap-3\">\n        <div className=\"relative flex-1 max-w-md\">\n          <Search size={16} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search by email or name…\"\n            value={search}\n            onChange={(e) => { setSearch(e.target.value); setPage(1); }}\n            className=\"w-full pl-9 pr-4 py-2 rounded-lg border border-gray-300 text-sm focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none\"\n          />\n        </div>\n        <span className=\"text-sm text-gray-500\">{total} total</span>\n      </div>\n\n      <div className=\"bg-white rounded-xl border border-gray-200 overflow-hidden\">\n        {loading ? (\n          <LoadingSpinner />\n        ) : users.length === 0 ? (\n          <p className=\"p-6 text-gray-500 text-sm text-center\">No users found</p>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead>\n                <tr className=\"text-left text-gray-500 border-b border-gray-100\">\n                  <th className=\"px-4 py-3 font-medium\">ID</th>\n                  <th className=\"px-4 py-3 font-medium\">Email</th>\n                  <th className=\"px-4 py-3 font-medium\">Name</th>\n                  <th className=\"px-4 py-3 font-medium\">Role</th>\n                  <th className=\"px-4 py-3 font-medium\">Plan</th>\n                  <th className=\"px-4 py-3 font-medium\">Joined</th>\n                  <th className=\"px-4 py-3 font-medium\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {users.map((u) => (\n                  <tr key={u.id} className=\"border-b border-gray-50 hover:bg-gray-50\">\n                    <td className=\"px-4 py-3 text-gray-400\">{u.id}</td>\n                    <td className=\"px-4 py-3 font-medium text-gray-900\">{u.email}</td>\n                    <td className=\"px-4 py-3 text-gray-600\">{u.name || \"—\"}</td>\n                    <td className=\"px-4 py-3\">\n                      <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${u.role === \"admin\" ? \"bg-red-100 text-red-700\" : \"bg-gray-100 text-gray-600\"}`}>\n                        {u.role}\n                      </span>\n                    </td>\n                    <td className=\"px-4 py-3 text-gray-600 capitalize\">{u.plan || \"free\"}</td>\n                    <td className=\"px-4 py-3 text-gray-400\">{new Date(u.created_at).toLocaleDateString()}</td>\n                    <td className=\"px-4 py-3\">\n                      <div className=\"flex gap-1\">\n                        <button\n                          onClick={() => toggleRole(u)}\n                          className=\"p-1.5 rounded hover:bg-gray-100 text-gray-500\"\n                          title={u.role === \"admin\" ? \"Demote to user\" : \"Promote to admin\"}\n                        >\n                          <Shield size={14} />\n                        </button>\n                        {u.id !== me?.id && (\n                          <button onClick={() => deleteUser(u)} className=\"p-1.5 rounded hover:bg-red-50 text-red-400\" title=\"Delete\">\n                            <Trash2 size={14} />\n                          </button>\n                        )}\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {total > 50 && (\n        <div className=\"flex justify-center gap-2\">\n          <button disabled={page <= 1} onClick={() => setPage((p) => p - 1)} className=\"px-3 py-1 rounded border text-sm disabled:opacity-40\">Prev</button>\n          <span className=\"px-3 py-1 text-sm text-gray-500\">Page {page}</span>\n          <button disabled={page * 50 >= total} onClick={() => setPage((p) => p + 1)} className=\"px-3 py-1 rounded border text-sm disabled:opacity-40\">Next</button>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ─── Blog Tab ────────────────────────────────────────────────────────────────\n\nfunction BlogTab() {\n  const [posts, setPosts] = useState<BlogPostRow[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showCreate, setShowCreate] = useState(false);\n  const [editPostId, setEditPostId] = useState<number|null>(null);\n\n  const loadPosts = useCallback(async () => {\n    setLoading(true);\n    try {\n      const data = await api<{ posts: BlogPostRow[] }>(\"/api/admin/blog\");\n      setPosts(data.posts);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => { loadPosts(); }, [loadPosts]);\n\n  async function togglePublish(p: BlogPostRow) {\n    const post = await api<{ post: any }>(`/api/admin/blog/${p.id}`);\n    await api(`/api/admin/blog/${p.id}`, {\n      method: \"PUT\",\n      body: JSON.stringify({ ...post.post, tags: JSON.parse(post.post.tags || \"[]\"), body: JSON.parse(post.post.body || \"[]\"), published: !p.published }),\n    });\n    loadPosts();\n  }\n\n  async function deletePost(p: BlogPostRow) {\n    if (!confirm(`Delete \"${p.title}\"? This cannot be undone.`)) return;\n    await api(`/api/admin/blog/${p.id}`, { method: \"DELETE\" });\n    loadPosts();\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <span className=\"text-sm text-gray-500\">{posts.length} posts</span>\n        <button\n          onClick={() => setShowCreate(!showCreate)}\n          className=\"inline-flex items-center gap-1.5 px-4 py-2 rounded-lg text-sm font-semibold text-white\"\n          style={{ backgroundColor: \"#FF6B6B\" }}\n        >\n          <Plus size={14} />\n          New Post\n        </button>\n      </div>\n\n      {showCreate && <BlogCreateForm onCreated={() => { setShowCreate(false); loadPosts(); }} onCancel={() => setShowCreate(false)} />}\n\n      <div className=\"bg-white rounded-xl border border-gray-200 overflow-hidden\">\n        {loading ? (\n          <LoadingSpinner />\n        ) : posts.length === 0 ? (\n          <p className=\"p-6 text-gray-500 text-sm text-center\">No blog posts yet</p>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead>\n                <tr className=\"text-left text-gray-500 border-b border-gray-100\">\n                  <th className=\"px-4 py-3 font-medium\">Title</th>\n                  <th className=\"px-4 py-3 font-medium\">Slug</th>\n                  <th className=\"px-4 py-3 font-medium\">Category</th>\n                  <th className=\"px-4 py-3 font-medium\">Status</th>\n                  <th className=\"px-4 py-3 font-medium\">Author</th>\n                  <th className=\"px-4 py-3 font-medium\">Created</th>\n                  <th className=\"px-4 py-3 font-medium\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {posts.map((p) => (\n                  <tr key={p.id} className=\"border-b border-gray-50 hover:bg-gray-50\">\n                    <td className=\"px-4 py-3 font-medium text-gray-900 max-w-xs truncate\">{p.title}</td>\n                    <td className=\"px-4 py-3 text-gray-500 text-xs font-mono\">{p.slug}</td>\n                    <td className=\"px-4 py-3 text-gray-600\">{p.category}</td>\n                    <td className=\"px-4 py-3\">\n                      <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${p.published ? \"bg-green-100 text-green-700\" : \"bg-yellow-100 text-yellow-700\"}`}>\n                        {p.published ? \"Published\" : \"Draft\"}\n                      </span>\n                    </td>\n                    <td className=\"px-4 py-3 text-gray-600\">{p.author}</td>\n                    <td className=\"px-4 py-3 text-gray-400\">{new Date(p.created_at).toLocaleDateString()}</td>\n                    <td className=\"px-4 py-3\">\n                      <div className=\"flex gap-1\">\n                        <button onClick={() => togglePublish(p)} className=\"p-1.5 rounded hover:bg-gray-100 text-gray-500\" title={p.published ? \"Unpublish\" : \"Publish\"}>\n                          {p.published ? <EyeOff size={14} /> : <Eye size={14} />}\n                        </button>\n                        <button onClick={() => setEditPostId(p.id)} className=\"p-1.5 rounded hover:bg-blue-50 text-blue-500\" title=\"Edit\">\n                          <FileText size={14} />\n                        </button>\n                        <button onClick={() => deletePost(p)} className=\"p-1.5 rounded hover:bg-red-50 text-red-400\" title=\"Delete\">\n                          <Trash2 size={14} />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {editPostId && (\n        <BlogEditForm postId={editPostId} onSaved={() => { setEditPostId(null); loadPosts(); }} onCancel={() => setEditPostId(null)} />\n      )}\n    </div>\n  );\n}\n\n// ─── Blog Create Form ────────────────────────────────────────────────────────\n\nfunction BlogCreateForm({ onCreated, onCancel }: { onCreated: () => void; onCancel: () => void }) {\n  const [title, setTitle] = useState(\"\");\n  const [slug, setSlug] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [category, setCategory] = useState(\"News\");\n  const [author, setAuthor] = useState(\"PsychedBox Team\");\n  const [body, setBody] = useState(\"\");\n  const [published, setPublished] = useState(false);\n  const [image, setImage] = useState(\"\");\n  const [imageAlt, setImageAlt] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [saving, setSaving] = useState(false);\n\n  function autoSlug(t: string) {\n    return t.toLowerCase().replace(/[^a-z0-9]+/g, \"-\").replace(/^-|-$/g, \"\");\n  }\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setError(\"\");\n    setSaving(true);\n\n    // Parse body — each paragraph becomes a \"text\" content block\n    const blocks = body\n      .split(/\\n\\n+/)\n      .filter(Boolean)\n      .map((text) => ({ type: \"text\" as const, content: text.trim() }));\n\n    try {\n      await api(\"/api/admin/blog\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          title,\n          slug: slug || autoSlug(title),\n          description,\n          category,\n          author,\n          body: blocks,\n          published,\n          image,\n          image_alt: imageAlt,\n          tags: [],\n          read_time: `${Math.max(1, Math.ceil(body.split(/\\s+/).length / 200))} min read`,\n        }),\n      });\n      onCreated();\n    } catch (err: any) {\n      setError(err.message);\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  async function handleImageChange(e: React.ChangeEvent<HTMLInputElement>) {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    setUploading(true);\n    setError(\"\");\n    const formData = new FormData();\n    formData.append(\"image\", file);\n    try {\n      const res = await fetch(\"/api/admin/upload\", { method: \"POST\", body: formData });\n      if (!res.ok) throw new Error(\"Upload failed\");\n      const data = await res.json();\n      setImage(data.url);\n    } catch (err: any) {\n      setError(\"Image upload failed\");\n    } finally {\n      setUploading(false);\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"bg-white rounded-xl border border-gray-200 p-6 space-y-4\">\n      <h3 className=\"text-lg font-bold text-gray-900\">Create Blog Post</h3>\n      {error && <div className=\"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded text-sm\">{error}</div>}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <FormField label=\"Title\" required>\n          <input\n            type=\"text\"\n            required\n            value={title}\n            onChange={(e) => { setTitle(e.target.value); if (!slug) setSlug(autoSlug(e.target.value)); }}\n            className=\"input-field\"\n            placeholder=\"My Post Title\"\n          />\n        </FormField>\n        <FormField label=\"Slug\" required>\n          <input type=\"text\" required value={slug} onChange={(e) => setSlug(e.target.value)} className=\"input-field\" placeholder=\"my-post-title\" />\n        </FormField>\n        <FormField label=\"Category\">\n          <select value={category} onChange={(e) => setCategory(e.target.value)} className=\"input-field\">\n            {[\"News\", \"Education\", \"Culture\", \"Guides\", \"Science\", \"Community\"].map((c) => (\n              <option key={c} value={c}>{c}</option>\n            ))}\n          </select>\n        </FormField>\n        <FormField label=\"Author\">\n          <input type=\"text\" value={author} onChange={(e) => setAuthor(e.target.value)} className=\"input-field\" />\n        </FormField>\n      </div>\n\n\n      <FormField label=\"Image\">\n        <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} className=\"input-field\" />\n        {uploading && <span className=\"text-xs text-gray-500 ml-2\">Uploading…</span>}\n        {image && (\n          <div className=\"mt-2\">\n            <img src={image} alt=\"Preview\" className=\"max-h-32 rounded border\" />\n            <input\n              type=\"text\"\n              value={imageAlt}\n              onChange={(e) => setImageAlt(e.target.value)}\n              className=\"input-field mt-2\"\n              placeholder=\"Image alt text (for accessibility)\"\n            />\n          </div>\n        )}\n      </FormField>\n\n      <FormField label=\"Description\">\n        <input type=\"text\" value={description} onChange={(e) => setDescription(e.target.value)} className=\"input-field\" placeholder=\"Short summary…\" />\n      </FormField>\n\n      <FormField label=\"Body (paragraphs separated by blank lines)\">\n        <textarea\n          rows={8}\n          value={body}\n          onChange={(e) => setBody(e.target.value)}\n          className=\"input-field font-mono text-sm\"\n          placeholder={\"First paragraph...\\n\\nSecond paragraph...\"}\n        />\n      </FormField>\n\n      <div className=\"flex items-center gap-2\">\n        <input id=\"published\" type=\"checkbox\" checked={published} onChange={(e) => setPublished(e.target.checked)} className=\"rounded\" />\n        <label htmlFor=\"published\" className=\"text-sm text-gray-700\">Publish immediately</label>\n      </div>\n\n      <div className=\"flex gap-2 pt-2\">\n        <button\n          type=\"submit\"\n          disabled={saving}\n          style={{ backgroundColor: \"#1a1a1a\" }}\n          className=\"inline-flex items-center gap-2 px-5 py-2.5 rounded-lg text-white text-sm font-bold hover:opacity-90 disabled:opacity-50\"\n        >\n          {saving && <Loader2 size={14} className=\"animate-spin\" />}\n          {saving ? \"Saving…\" : \"Create Post\"}\n        </button>\n        <button type=\"button\" onClick={onCancel} className=\"px-5 py-2.5 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-100\">\n          Cancel\n        </button>\n      </div>\n    </form>\n  );\n}\n\n// ─── Blog Edit Form ────────────────────────────────────────────────────────\n\ntype BlogEditFormProps = { postId: number; onSaved: () => void; onCancel: () => void };\nfunction BlogEditForm({ postId, onSaved, onCancel }: BlogEditFormProps) {\n  const [title, setTitle] = useState(\"\");\n  const [slug, setSlug] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [category, setCategory] = useState(\"News\");\n  const [author, setAuthor] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [published, setPublished] = useState(false);\n  const [image, setImage] = useState(\"\");\n  const [imageAlt, setImageAlt] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [saving, setSaving] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    api<{ post: any }>(`/api/admin/blog/${postId}`).then(({ post }) => {\n      setTitle(post.title || \"\");\n      setSlug(post.slug || \"\");\n      setDescription(post.description || \"\");\n      setCategory(post.category || \"News\");\n      setAuthor(post.author || \"\");\n      setBody(Array.isArray(post.body) ? post.body.map((b: any) => b.content || b.text || \"\").join(\"\\n\\n\") : \"\");\n      setPublished(!!post.published);\n      setImage(post.image || \"\");\n      setImageAlt(post.image_alt || \"\");\n      setLoading(false);\n    });\n  }, [postId]);\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setError(\"\");\n    setSaving(true);\n    const blocks = body\n      .split(/\\n\\n+/)\n      .filter(Boolean)\n      .map((text) => ({ type: \"text\" as const, content: text.trim() }));\n    try {\n      await api(`/api/admin/blog/${postId}`, {\n        method: \"PUT\",\n        body: JSON.stringify({\n          title,\n          slug,\n          description,\n          category,\n          author,\n          body: blocks,\n          published,\n          image,\n          image_alt: imageAlt,\n        }),\n      });\n      onSaved();\n    } catch (err: any) {\n      setError(err.message);\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  async function handleImageChange(e: React.ChangeEvent<HTMLInputElement>) {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    setUploading(true);\n    setError(\"\");\n    const formData = new FormData();\n    formData.append(\"image\", file);\n    try {\n      const res = await fetch(\"/api/admin/upload\", { method: \"POST\", body: formData });\n      if (!res.ok) throw new Error(\"Upload failed\");\n      const data = await res.json();\n      setImage(data.url);\n    } catch (err: any) {\n      setError(\"Image upload failed\");\n    } finally {\n      setUploading(false);\n    }\n  }\n\n  if (loading) return <LoadingSpinner />;\n\n  return (\n    <form onSubmit={handleSubmit} className=\"bg-white rounded-xl border border-blue-200 p-6 space-y-4 my-4\">\n      <h3 className=\"text-lg font-bold text-blue-900\">Edit Blog Post</h3>\n      {error && <div className=\"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded text-sm\">{error}</div>}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <FormField label=\"Title\" required>\n          <input type=\"text\" required value={title} onChange={(e) => setTitle(e.target.value)} className=\"input-field\" placeholder=\"My Post Title\" />\n        </FormField>\n        <FormField label=\"Slug\" required>\n          <input type=\"text\" required value={slug} onChange={(e) => setSlug(e.target.value)} className=\"input-field\" placeholder=\"my-post-title\" />\n        </FormField>\n        <FormField label=\"Category\">\n          <select value={category} onChange={(e) => setCategory(e.target.value)} className=\"input-field\">\n            {[\"News\", \"Education\", \"Culture\", \"Guides\", \"Science\", \"Community\"].map((c) => (\n              <option key={c} value={c}>{c}</option>\n            ))}\n          </select>\n        </FormField>\n        <FormField label=\"Author\">\n          <input type=\"text\" value={author} onChange={(e) => setAuthor(e.target.value)} className=\"input-field\" />\n        </FormField>\n      </div>\n\n      <FormField label=\"Image\">\n        <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} className=\"input-field\" />\n        {uploading && <span className=\"text-xs text-gray-500 ml-2\">Uploading…</span>}\n        {image && (\n          <div className=\"mt-2\">\n            <img src={image} alt=\"Preview\" className=\"max-h-32 rounded border\" />\n            <input type=\"text\" value={imageAlt} onChange={(e) => setImageAlt(e.target.value)} className=\"input-field mt-2\" placeholder=\"Image alt text (for accessibility)\" />\n          </div>\n        )}\n      </FormField>\n\n      <FormField label=\"Description\">\n        <input type=\"text\" value={description} onChange={(e) => setDescription(e.target.value)} className=\"input-field\" placeholder=\"Short summary…\" />\n      </FormField>\n\n      <FormField label=\"Body (paragraphs separated by blank lines)\">\n        <textarea rows={8} value={body} onChange={(e) => setBody(e.target.value)} className=\"input-field font-mono text-sm\" placeholder={\"First paragraph...\\n\\nSecond paragraph...\"} />\n      </FormField>\n\n      <div className=\"flex items-center gap-2\">\n        <input id=\"published-edit\" type=\"checkbox\" checked={published} onChange={(e) => setPublished(e.target.checked)} className=\"rounded\" />\n        <label htmlFor=\"published-edit\" className=\"text-sm text-gray-700\">Published</label>\n      </div>\n\n      <div className=\"flex gap-2 pt-2\">\n        <button type=\"submit\" disabled={saving} style={{ backgroundColor: \"#2563EB\" }} className=\"inline-flex items-center gap-2 px-5 py-2.5 rounded-lg text-white text-sm font-bold hover:opacity-90 disabled:opacity-50\">\n          {saving ? <Loader2 size={14} className=\"animate-spin\" /> : <FileText size={14} />}\n          {saving ? \"Saving…\" : \"Save Changes\"}\n        </button>\n        <button type=\"button\" onClick={onCancel} className=\"px-5 py-2.5 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-100\">\n          Cancel\n        </button>\n      </div>\n    </form>\n  );\n}\n\n// ─── Subscribers Tab ─────────────────────────────────────────────────────────\n\nfunction SubscribersTab() {\n  const [subscribers, setSubscribers] = useState<Subscriber[]>([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n\n  const loadSubscribers = () => {\n    setLoading(true);\n    api<{ subscribers: Subscriber[]; total: number }>(`/api/admin/subscribers?page=${page}`)\n      .then((data) => { setSubscribers(data.subscribers); setTotal(data.total); })\n      .finally(() => setLoading(false));\n  };\n\n  useEffect(() => { loadSubscribers(); }, [page]);\n\n  const handleDelete = async (id: number, email: string) => {\n    if (!confirm(`Remove ${email} from the mailing list?`)) return;\n    try {\n      await api(`/api/admin/subscribers/${id}`, { method: \"DELETE\" });\n      loadSubscribers();\n    } catch {\n      alert(\"Failed to remove subscriber\");\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <span className=\"text-sm text-gray-500\">{total} subscribers</span>\n\n      <div className=\"bg-white rounded-xl border border-gray-200 overflow-hidden\">\n        {loading ? (\n          <LoadingSpinner />\n        ) : subscribers.length === 0 ? (\n          <p className=\"p-6 text-gray-500 text-sm text-center\">No subscribers yet</p>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead>\n                <tr className=\"text-left text-gray-500 border-b border-gray-100\">\n                  <th className=\"px-4 py-3 font-medium\">ID</th>\n                  <th className=\"px-4 py-3 font-medium\">Email</th>\n                  <th className=\"px-4 py-3 font-medium\">Source</th>\n                  <th className=\"px-4 py-3 font-medium\">Subscribed</th>\n                  <th className=\"px-4 py-3 font-medium\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                {subscribers.map((s) => (\n                  <tr key={s.id} className=\"border-b border-gray-50 hover:bg-gray-50\">\n                    <td className=\"px-4 py-3 text-gray-400\">{s.id}</td>\n                    <td className=\"px-4 py-3 font-medium text-gray-900\">{s.email}</td>\n                    <td className=\"px-4 py-3 text-gray-600\">{s.source}</td>\n                    <td className=\"px-4 py-3 text-gray-400\">{new Date(s.created_at).toLocaleDateString()}</td>\n                    <td className=\"px-4 py-3\">\n                      <button\n                        onClick={() => handleDelete(s.id, s.email)}\n                        className=\"text-red-500 hover:text-red-700 text-xs font-medium\"\n                      >\n                        Remove\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {total > 50 && (\n        <div className=\"flex justify-center gap-2\">\n          <button disabled={page <= 1} onClick={() => setPage((p) => p - 1)} className=\"px-3 py-1 rounded border text-sm disabled:opacity-40\">Prev</button>\n          <span className=\"px-3 py-1 text-sm text-gray-500\">Page {page}</span>\n          <button disabled={page * 50 >= total} onClick={() => setPage((p) => p + 1)} className=\"px-3 py-1 rounded border text-sm disabled:opacity-40\">Next</button>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ─── Orders Tab ──────────────────────────────────────────────────────────────\n\ninterface AdminOrder {\n  id: number;\n  user_id: number | null;\n  stripe_session_id: string;\n  email: string;\n  amount_cents: number;\n  currency: string;\n  status: string;\n  plan_id: string | null;\n  item_summary: string;\n  created_at: string;\n  user_name: string | null;\n  items: { product_id: string; name: string; variant: string | null; quantity: number; price_cents: number }[];\n}\n\nconst ORDER_STATUSES = [\"completed\", \"shipped\", \"pending\", \"refunded\", \"cancelled\"] as const;\n\nfunction OrdersTab() {\n  const [orders, setOrders] = useState<AdminOrder[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [expandedId, setExpandedId] = useState<number | null>(null);\n  const limit = 25;\n\n  const fetchOrders = useCallback(async () => {\n    setLoading(true);\n    try {\n      const params = new URLSearchParams({ page: String(page), limit: String(limit) });\n      if (search) params.set(\"search\", search);\n      if (statusFilter) params.set(\"status\", statusFilter);\n      const data = await api<{ orders: AdminOrder[]; total: number }>(`/api/admin/orders?${params}`);\n      setOrders(data.orders);\n      setTotal(data.total);\n    } catch {\n      setOrders([]);\n    }\n    setLoading(false);\n  }, [page, search, statusFilter]);\n\n  useEffect(() => { fetchOrders(); }, [fetchOrders]);\n\n  async function updateStatus(orderId: number, newStatus: string) {\n    try {\n      await api(`/api/admin/orders/${orderId}/status`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ status: newStatus }),\n      });\n      setOrders((prev) => prev.map((o) => o.id === orderId ? { ...o, status: newStatus } : o));\n    } catch { /* ignore */ }\n  }\n\n  const totalPages = Math.ceil(total / limit);\n\n  const statusColor = (s: string) => {\n    switch (s) {\n      case \"completed\": return \"bg-green-100 text-green-700\";\n      case \"shipped\": return \"bg-blue-100 text-blue-700\";\n      case \"pending\": return \"bg-yellow-100 text-yellow-700\";\n      case \"refunded\": return \"bg-orange-100 text-orange-700\";\n      case \"cancelled\": return \"bg-red-100 text-red-700\";\n      default: return \"bg-gray-100 text-gray-700\";\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Filters */}\n      <div className=\"flex flex-col sm:flex-row gap-3\">\n        <div className=\"relative flex-1\">\n          <Search size={16} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search by email, item, or session ID...\"\n            value={search}\n            onChange={(e) => { setSearch(e.target.value); setPage(1); }}\n            className=\"w-full pl-9 pr-3 py-2 rounded-lg border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6B6B]\"\n          />\n        </div>\n        <select\n          value={statusFilter}\n          onChange={(e) => { setStatusFilter(e.target.value); setPage(1); }}\n          className=\"px-3 py-2 rounded-lg border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-[#FF6B6B] bg-white\"\n        >\n          <option value=\"\">All statuses</option>\n          {ORDER_STATUSES.map((s) => (\n            <option key={s} value={s}>{s.charAt(0).toUpperCase() + s.slice(1)}</option>\n          ))}\n        </select>\n      </div>\n\n      {/* Summary */}\n      <p className=\"text-sm text-gray-500\">{total} order{total !== 1 ? \"s\" : \"\"} found</p>\n\n      {loading ? <LoadingSpinner /> : orders.length === 0 ? (\n        <div className=\"bg-white rounded-xl border border-gray-200 p-8 text-center text-gray-500\">\n          No orders found.\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-xl border border-gray-200 overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead>\n                <tr className=\"text-gray-500 text-xs uppercase tracking-wide border-b border-gray-100\">\n                  <th className=\"text-left px-4 py-3 font-medium\">#</th>\n                  <th className=\"text-left px-4 py-3 font-medium\">Date</th>\n                  <th className=\"text-left px-4 py-3 font-medium\">Customer</th>\n                  <th className=\"text-left px-4 py-3 font-medium\">Item</th>\n                  <th className=\"text-right px-4 py-3 font-medium\">Amount</th>\n                  <th className=\"text-left px-4 py-3 font-medium\">Status</th>\n                  <th className=\"text-left px-4 py-3 font-medium w-8\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                {orders.map((order) => (\n                  <React.Fragment key={order.id}>\n                    <tr\n                      className=\"border-b border-gray-50 hover:bg-gray-50 cursor-pointer\"\n                      onClick={() => setExpandedId(expandedId === order.id ? null : order.id)}\n                    >\n                      <td className=\"px-4 py-3 text-gray-400 font-mono text-xs\">{order.id}</td>\n                      <td className=\"px-4 py-3 whitespace-nowrap\">\n                        {new Date(order.created_at).toLocaleDateString(\"en-US\", { month: \"short\", day: \"numeric\", year: \"numeric\" })}\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <div className=\"font-medium text-gray-900\">{order.user_name || \"—\"}</div>\n                        <div className=\"text-gray-500 text-xs\">{order.email}</div>\n                      </td>\n                      <td className=\"px-4 py-3 max-w-[200px] truncate\" title={order.item_summary}>\n                        {order.item_summary}\n                      </td>\n                      <td className=\"px-4 py-3 text-right font-semibold whitespace-nowrap\">\n                        ${(order.amount_cents / 100).toFixed(2)}\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <select\n                          value={order.status}\n                          onChange={(e) => { e.stopPropagation(); updateStatus(order.id, e.target.value); }}\n                          onClick={(e) => e.stopPropagation()}\n                          className={`text-xs font-medium px-2 py-1 rounded-full border-0 cursor-pointer ${statusColor(order.status)}`}\n                        >\n                          {ORDER_STATUSES.map((s) => (\n                            <option key={s} value={s}>{s.charAt(0).toUpperCase() + s.slice(1)}</option>\n                          ))}\n                        </select>\n                      </td>\n                      <td className=\"px-4 py-3 text-gray-400\">\n                        {expandedId === order.id ? <ChevronUp size={14} /> : <ChevronDown size={14} />}\n                      </td>\n                    </tr>\n                    {expandedId === order.id && (\n                      <tr>\n                        <td colSpan={7} className=\"px-4 py-4 bg-gray-50 border-b border-gray-100\">\n                          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs\">\n                            <div>\n                              <p className=\"text-gray-500 mb-1\">Stripe Session</p>\n                              <p className=\"font-mono text-gray-700 break-all\">{order.stripe_session_id}</p>\n                            </div>\n                            <div>\n                              <p className=\"text-gray-500 mb-1\">Plan</p>\n                              <p className=\"text-gray-700\">{order.plan_id || \"—\"}</p>\n                            </div>\n                          </div>\n                          {order.items.length > 0 && (\n                            <div className=\"mt-3 pt-3 border-t border-gray-200\">\n                              <p className=\"text-xs text-gray-500 mb-2 font-medium\">Line Items</p>\n                              <ul className=\"space-y-1 text-xs text-gray-700\">\n                                {order.items.map((item, idx) => (\n                                  <li key={idx} className=\"flex justify-between\">\n                                    <span>\n                                      {item.name}\n                                      {item.variant ? ` (${item.variant})` : \"\"}\n                                      {item.quantity > 1 ? ` × ${item.quantity}` : \"\"}\n                                    </span>\n                                    <span className=\"text-gray-400\">${(item.price_cents / 100).toFixed(2)}</span>\n                                  </li>\n                                ))}\n                              </ul>\n                            </div>\n                          )}\n                        </td>\n                      </tr>\n                    )}\n                  </React.Fragment>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          {/* Pagination */}\n          {totalPages > 1 && (\n            <div className=\"flex items-center justify-between px-4 py-3 border-t border-gray-100\">\n              <button\n                onClick={() => setPage((p) => Math.max(1, p - 1))}\n                disabled={page === 1}\n                className=\"px-3 py-1 rounded text-sm text-gray-600 hover:bg-gray-100 disabled:opacity-40\"\n              >\n                Previous\n              </button>\n              <span className=\"text-xs text-gray-500\">Page {page} of {totalPages}</span>\n              <button\n                onClick={() => setPage((p) => Math.min(totalPages, p + 1))}\n                disabled={page >= totalPages}\n                className=\"px-3 py-1 rounded text-sm text-gray-600 hover:bg-gray-100 disabled:opacity-40\"\n              >\n                Next\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ─── Database Tab ────────────────────────────────────────────────────────────\n\n// ─── Email Tab ───────────────────────────────────────────────────────────────\n\ntype EmailMode = \"newsletter\" | \"blog-notify\" | \"test\";\n\nfunction EmailTab() {\n  const [mode, setMode] = useState<EmailMode>(\"newsletter\");\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Mode selector */}\n      <div className=\"flex gap-2\">\n        {[\n          { id: \"newsletter\" as const, label: \"Send Newsletter\" },\n          { id: \"blog-notify\" as const, label: \"Blog Notification\" },\n          { id: \"test\" as const, label: \"Test Email\" },\n        ].map((m) => (\n          <button\n            key={m.id}\n            onClick={() => setMode(m.id)}\n            className={`px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${\n              mode === m.id\n                ? \"bg-[#FF6B6B] text-white\"\n                : \"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50\"\n            }`}\n          >\n            {m.label}\n          </button>\n        ))}\n      </div>\n\n      {mode === \"newsletter\" && <NewsletterComposer />}\n      {mode === \"blog-notify\" && <BlogNotifier />}\n      {mode === \"test\" && <TestEmailSender />}\n    </div>\n  );\n}\n\nfunction NewsletterComposer() {\n  const [subject, setSubject] = useState(\"\");\n  const [bodyHtml, setBodyHtml] = useState(\"\");\n  const [sending, setSending] = useState(false);\n  const [result, setResult] = useState<{ sent: number; failed: number; total: number } | null>(null);\n  const [error, setError] = useState(\"\");\n  const [preview, setPreview] = useState(false);\n\n  async function handleSend() {\n    if (!subject.trim() || !bodyHtml.trim()) return;\n    if (!confirm(`Send this newsletter to ALL subscribers?`)) return;\n    setSending(true);\n    setError(\"\");\n    setResult(null);\n    try {\n      const data = await api<{ sent: number; failed: number; total: number }>(\"/api/admin/email/newsletter\", {\n        method: \"POST\",\n        body: JSON.stringify({ subject, bodyHtml }),\n      });\n      setResult(data);\n    } catch (err: any) {\n      setError(err.message);\n    } finally {\n      setSending(false);\n    }\n  }\n\n  return (\n    <div className=\"bg-white rounded-xl border border-gray-200 p-6 space-y-5\">\n      <div>\n        <h3 className=\"text-lg font-bold text-gray-900\">Compose Newsletter</h3>\n        <p className=\"text-sm text-gray-500 mt-1\">Send a newsletter email to all subscribers.</p>\n      </div>\n\n      <FormField label=\"Subject\" required>\n        <input\n          type=\"text\"\n          value={subject}\n          onChange={(e) => setSubject(e.target.value)}\n          placeholder=\"e.g. March Update — What's Coming Next\"\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none\"\n        />\n      </FormField>\n\n      <FormField label=\"Body (HTML)\" required>\n        <textarea\n          rows={12}\n          value={bodyHtml}\n          onChange={(e) => setBodyHtml(e.target.value)}\n          placeholder={'<p>Hey there!</p>\\n<p>Here\\'s what\\'s new at PsychedBox...</p>\\n<p>— The PsychedBox Team</p>'}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none resize-y\"\n        />\n      </FormField>\n\n      {/* Preview toggle */}\n      {bodyHtml.trim() && (\n        <div>\n          <button\n            onClick={() => setPreview(!preview)}\n            className=\"text-sm text-[#FF6B6B] font-semibold hover:underline flex items-center gap-1\"\n          >\n            {preview ? <EyeOff size={14} /> : <Eye size={14} />}\n            {preview ? \"Hide Preview\" : \"Show Preview\"}\n          </button>\n          {preview && (\n            <div className=\"mt-3 border border-gray-200 rounded-lg p-4 bg-gray-50\">\n              <p className=\"text-xs text-gray-400 mb-2 uppercase tracking-wide\">Preview</p>\n              <div className=\"prose prose-sm max-w-none\" dangerouslySetInnerHTML={{ __html: bodyHtml }} />\n            </div>\n          )}\n        </div>\n      )}\n\n      {error && <ErrorMessage message={error} />}\n\n      {result && (\n        <div className=\"flex items-center gap-2 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm\">\n          <CheckCircle size={16} />\n          Sent {result.sent} of {result.total} emails.{result.failed > 0 && ` (${result.failed} failed)`}\n        </div>\n      )}\n\n      <button\n        onClick={handleSend}\n        disabled={sending || !subject.trim() || !bodyHtml.trim()}\n        className=\"inline-flex items-center gap-2 px-5 py-2.5 rounded-lg text-sm font-bold text-white disabled:opacity-50\"\n        style={{ backgroundColor: \"#FF6B6B\" }}\n      >\n        {sending ? <Loader2 size={16} className=\"animate-spin\" /> : <Send size={16} />}\n        {sending ? \"Sending...\" : \"Send to All Subscribers\"}\n      </button>\n    </div>\n  );\n}\n\nfunction BlogNotifier() {\n  const [posts, setPosts] = useState<BlogPostRow[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [sendingId, setSendingId] = useState<number | null>(null);\n  const [results, setResults] = useState<Record<number, { sent: number; failed: number; total: number }>>({});\n  const [errors, setErrors] = useState<Record<number, string>>({});\n\n  useEffect(() => {\n    api<{ posts: BlogPostRow[] }>(\"/api/admin/blog\")\n      .then((d) => setPosts(d.posts.filter((p) => p.published)))\n      .finally(() => setLoading(false));\n  }, []);\n\n  async function handleNotify(postId: number, title: string) {\n    if (!confirm(`Notify all subscribers about \"${title}\"?`)) return;\n    setSendingId(postId);\n    setErrors((prev) => { const n = { ...prev }; delete n[postId]; return n; });\n    try {\n      const data = await api<{ sent: number; failed: number; total: number }>(`/api/admin/email/blog-notify/${postId}`, {\n        method: \"POST\",\n      });\n      setResults((prev) => ({ ...prev, [postId]: data }));\n    } catch (err: any) {\n      setErrors((prev) => ({ ...prev, [postId]: err.message }));\n    } finally {\n      setSendingId(null);\n    }\n  }\n\n  return (\n    <div className=\"bg-white rounded-xl border border-gray-200 p-6 space-y-5\">\n      <div>\n        <h3 className=\"text-lg font-bold text-gray-900\">Blog Post Notifications</h3>\n        <p className=\"text-sm text-gray-500 mt-1\">Notify all subscribers about a published blog post.</p>\n      </div>\n\n      {loading ? (\n        <LoadingSpinner />\n      ) : posts.length === 0 ? (\n        <p className=\"text-gray-500 text-sm\">No published blog posts yet.</p>\n      ) : (\n        <div className=\"space-y-3\">\n          {posts.map((p) => (\n            <div\n              key={p.id}\n              className=\"flex items-center justify-between gap-4 border border-gray-100 rounded-lg px-4 py-3\"\n            >\n              <div className=\"min-w-0\">\n                <p className=\"font-semibold text-gray-900 text-sm truncate\">{p.title}</p>\n                <p className=\"text-xs text-gray-400\">\n                  {p.category} · {p.author} · {new Date(p.created_at).toLocaleDateString()}\n                </p>\n              </div>\n              <div className=\"flex items-center gap-3 shrink-0\">\n                {results[p.id] && (\n                  <span className=\"text-xs text-green-600 flex items-center gap-1\">\n                    <CheckCircle size={12} /> {results[p.id].sent} sent\n                  </span>\n                )}\n                {errors[p.id] && (\n                  <span className=\"text-xs text-red-500 flex items-center gap-1\">\n                    <AlertCircle size={12} /> {errors[p.id]}\n                  </span>\n                )}\n                <button\n                  onClick={() => handleNotify(p.id, p.title)}\n                  disabled={sendingId === p.id}\n                  className=\"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold text-white disabled:opacity-50\"\n                  style={{ backgroundColor: \"#1a1a1a\" }}\n                >\n                  {sendingId === p.id ? (\n                    <Loader2 size={12} className=\"animate-spin\" />\n                  ) : (\n                    <Send size={12} />\n                  )}\n                  Notify\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction TestEmailSender() {\n  const { user } = useAuth();\n  const [to, setTo] = useState(user?.email || \"\");\n  const [template, setTemplate] = useState(\"welcome\");\n  const [sending, setSending] = useState(false);\n  const [result, setResult] = useState<{ sent: boolean; to: string; template: string } | null>(null);\n  const [error, setError] = useState(\"\");\n\n  async function handleSend() {\n    if (!to.trim()) return;\n    setSending(true);\n    setError(\"\");\n    setResult(null);\n    try {\n      const data = await api<{ sent: boolean; to: string; template: string }>(\"/api/admin/email/test\", {\n        method: \"POST\",\n        body: JSON.stringify({ to, template }),\n      });\n      setResult(data);\n    } catch (err: any) {\n      setError(err.message);\n    } finally {\n      setSending(false);\n    }\n  }\n\n  return (\n    <div className=\"bg-white rounded-xl border border-gray-200 p-6 space-y-5\">\n      <div>\n        <h3 className=\"text-lg font-bold text-gray-900\">Send Test Email</h3>\n        <p className=\"text-sm text-gray-500 mt-1\">Preview how email templates look by sending a test to yourself.</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <FormField label=\"Recipient\">\n          <input\n            type=\"email\"\n            value={to}\n            onChange={(e) => setTo(e.target.value)}\n            placeholder=\"your@email.com\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none\"\n          />\n        </FormField>\n\n        <FormField label=\"Template\">\n          <select\n            value={template}\n            onChange={(e) => setTemplate(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none bg-white\"\n          >\n            <option value=\"welcome\">Welcome (signup)</option>\n            <option value=\"subscriber\">Subscriber Welcome</option>\n            <option value=\"order\">Order Confirmation</option>\n            <option value=\"payment-failed\">Payment Failed</option>\n          </select>\n        </FormField>\n      </div>\n\n      {error && <ErrorMessage message={error} />}\n\n      {result && (\n        <div className={`flex items-center gap-2 px-4 py-3 rounded-lg text-sm border ${\n          result.sent\n            ? \"bg-green-50 border-green-200 text-green-700\"\n            : \"bg-red-50 border-red-200 text-red-700\"\n        }`}>\n          {result.sent ? <CheckCircle size={16} /> : <AlertCircle size={16} />}\n          {result.sent ? `Test email sent to ${result.to}` : \"Failed to send test email\"}\n        </div>\n      )}\n\n      <button\n        onClick={handleSend}\n        disabled={sending || !to.trim()}\n        className=\"inline-flex items-center gap-2 px-5 py-2.5 rounded-lg text-sm font-bold text-white disabled:opacity-50\"\n        style={{ backgroundColor: \"#FF6B6B\" }}\n      >\n        {sending ? <Loader2 size={16} className=\"animate-spin\" /> : <Send size={16} />}\n        {sending ? \"Sending...\" : \"Send Test\"}\n      </button>\n    </div>\n  );\n}\n\n// ─── Database Tab ────────────────────────────────────────────────────────────\n\nfunction DatabaseTab() {\n  const [tables, setTables] = useState<TableInfo[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [expanded, setExpanded] = useState<string | null>(null);\n  const [sql, setSql] = useState(\"SELECT * FROM users LIMIT 10\");\n  const [queryResult, setQueryResult] = useState<{ rows: any[]; count: number } | null>(null);\n  const [queryError, setQueryError] = useState(\"\");\n  const [running, setRunning] = useState(false);\n\n  useEffect(() => {\n    api<{ tables: TableInfo[] }>(\"/api/admin/db/tables\").then((d) => setTables(d.tables)).finally(() => setLoading(false));\n  }, []);\n\n  async function runQuery() {\n    setQueryError(\"\");\n    setQueryResult(null);\n    setRunning(true);\n    try {\n      const data = await api<{ rows: any[]; count: number }>(`/api/admin/db/query?sql=${encodeURIComponent(sql)}`);\n      setQueryResult(data);\n    } catch (err: any) {\n      setQueryError(err.message);\n    } finally {\n      setRunning(false);\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Schema overview */}\n      <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Schema Overview</h3>\n        {loading ? (\n          <LoadingSpinner />\n        ) : (\n          <div className=\"space-y-2\">\n            {tables.map((t) => (\n              <div key={t.name} className=\"border border-gray-100 rounded-lg\">\n                <button\n                  onClick={() => setExpanded(expanded === t.name ? null : t.name)}\n                  className=\"w-full flex items-center justify-between px-4 py-3 text-left hover:bg-gray-50\"\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <Database size={14} className=\"text-gray-400\" />\n                    <span className=\"font-mono text-sm font-medium text-gray-900\">{t.name}</span>\n                    <span className=\"text-xs text-gray-400\">{t.rowCount} rows</span>\n                  </div>\n                  {expanded === t.name ? <ChevronUp size={14} className=\"text-gray-400\" /> : <ChevronDown size={14} className=\"text-gray-400\" />}\n                </button>\n                {expanded === t.name && (\n                  <div className=\"px-4 pb-3\">\n                    <table className=\"w-full text-xs\">\n                      <thead>\n                        <tr className=\"text-gray-500\">\n                          <th className=\"text-left py-1\">Column</th>\n                          <th className=\"text-left py-1\">Type</th>\n                          <th className=\"text-left py-1\">PK</th>\n                          <th className=\"text-left py-1\">Not Null</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {t.columns.map((c: any) => (\n                          <tr key={c.name} className=\"border-t border-gray-50\">\n                            <td className=\"py-1 font-mono text-gray-900\">{c.name}</td>\n                            <td className=\"py-1 text-gray-500\">{c.type}</td>\n                            <td className=\"py-1\">{c.pk ? \"Yes\" : \"\"}</td>\n                            <td className=\"py-1\">{c.notnull ? \"Yes\" : \"\"}</td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* SQL query runner */}\n      <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-bold text-gray-900 mb-4\">SQL Query Runner</h3>\n        <p className=\"text-xs text-gray-400 mb-3\">Read-only: SELECT and PRAGMA queries only</p>\n        <div className=\"flex gap-2\">\n          <textarea\n            rows={2}\n            value={sql}\n            onChange={(e) => setSql(e.target.value)}\n            onKeyDown={(e) => { if (e.key === \"Enter\" && (e.metaKey || e.ctrlKey)) runQuery(); }}\n            className=\"flex-1 font-mono text-sm rounded-lg border border-gray-300 px-3 py-2 focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none resize-y\"\n            placeholder=\"SELECT * FROM users LIMIT 10\"\n          />\n          <button\n            onClick={runQuery}\n            disabled={running || !sql.trim()}\n            className=\"self-start inline-flex items-center gap-1.5 px-4 py-2 rounded-lg text-sm font-semibold text-white disabled:opacity-50\"\n            style={{ backgroundColor: \"#1a1a1a\" }}\n          >\n            {running ? <Loader2 size={14} className=\"animate-spin\" /> : <Play size={14} />}\n            Run\n          </button>\n        </div>\n\n        {queryError && <div className=\"mt-3 bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded text-sm\">{queryError}</div>}\n\n        {queryResult && (\n          <div className=\"mt-4 overflow-x-auto\">\n            <p className=\"text-xs text-gray-400 mb-2\">{queryResult.count} rows returned</p>\n            {queryResult.rows.length > 0 && (\n              <table className=\"w-full text-xs\">\n                <thead>\n                  <tr className=\"text-gray-500 border-b border-gray-100\">\n                    {Object.keys(queryResult.rows[0]).map((k) => (\n                      <th key={k} className=\"text-left px-3 py-2 font-medium whitespace-nowrap\">{k}</th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {queryResult.rows.map((row, i) => (\n                    <tr key={i} className=\"border-b border-gray-50 hover:bg-gray-50\">\n                      {Object.values(row).map((v, j) => (\n                        <td key={j} className=\"px-3 py-1.5 text-gray-700 whitespace-nowrap max-w-xs truncate\" title={String(v)}>\n                          {String(v ?? \"NULL\")}\n                        </td>\n                      ))}\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// ─── Shared Components ───────────────────────────────────────────────────────\n\nfunction StatCard({ label, value }: { label: string; value: number }) {\n  return (\n    <div className=\"bg-white rounded-xl border border-gray-200 p-4\">\n      <p className=\"text-xs text-gray-500 uppercase tracking-wide\">{label}</p>\n      <p className=\"text-2xl font-black text-gray-900 mt-1\">{value}</p>\n    </div>\n  );\n}\n\nfunction LoadingSpinner() {\n  return (\n    <div className=\"flex items-center justify-center py-12\">\n      <Loader2 size={24} className=\"animate-spin text-gray-400\" />\n    </div>\n  );\n}\n\nfunction ErrorMessage({ message }: { message: string }) {\n  return <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm\">{message}</div>;\n}\n\nfunction FormField({ label, required, children }: { label: string; required?: boolean; children: React.ReactNode }) {\n  return (\n    <div>\n      <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n        {label} {required && <span className=\"text-red-400\">*</span>}\n      </label>\n      {children}\n    </div>\n  );\n}\n"],"names":["Activity","createLucideIcon","ChevronDown","ChevronUp","Database","EyeOff","Eye","FileText","Play","Send","api","url","opts","res","data","TABS","Users","ShoppingBag","Mail","AdminPage","useSEO","user","authLoading","isAdmin","useAuth","useLocation","tab","setTab","useState","jsxs","jsx","SiteNavbar","Loader2","SiteFooter","Link","t","OverviewTab","UsersTab","BlogTab","OrdersTab","SubscribersTab","EmailTab","DatabaseTab","stats","setStats","loading","setLoading","useEffect","LoadingSpinner","StatCard","row","pct","d","max","x","h","ErrorMessage","users","setUsers","total","setTotal","search","setSearch","page","setPage","me","loadUsers","useCallback","toggleRole","u","newRole","deleteUser","Search","e","Shield","Trash2","p","posts","setPosts","showCreate","setShowCreate","editPostId","setEditPostId","loadPosts","togglePublish","post","deletePost","Plus","BlogCreateForm","BlogEditForm","onCreated","onCancel","title","setTitle","slug","setSlug","description","setDescription","category","setCategory","author","setAuthor","body","setBody","published","setPublished","image","setImage","imageAlt","setImageAlt","uploading","setUploading","error","setError","saving","setSaving","autoSlug","handleSubmit","blocks","text","err","handleImageChange","file","formData","FormField","c","postId","onSaved","b","subscribers","setSubscribers","loadSubscribers","handleDelete","id","email","s","ORDER_STATUSES","orders","setOrders","statusFilter","setStatusFilter","expandedId","setExpandedId","limit","fetchOrders","params","updateStatus","orderId","newStatus","prev","o","totalPages","statusColor","order","React","item","idx","mode","setMode","m","NewsletterComposer","BlogNotifier","TestEmailSender","subject","setSubject","bodyHtml","setBodyHtml","sending","setSending","result","setResult","preview","setPreview","handleSend","CheckCircle","sendingId","setSendingId","results","setResults","errors","setErrors","handleNotify","AlertCircle","to","setTo","template","setTemplate","tables","setTables","expanded","setExpanded","sql","setSql","queryResult","setQueryResult","queryError","setQueryError","running","setRunning","runQuery","k","i","v","j","label","value","message","required","children"],"mappings":"uSAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,GAAWC,EAAiB,WAAY,CAC5C,CACE,OACA,CACE,EAAG,6HACH,IAAK,QACX,CACA,CACA,CAAC,ECjBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMC,GAAcD,EAAiB,cAAe,CAClD,CAAC,OAAQ,CAAE,EAAG,eAAgB,IAAK,QAAQ,CAAE,CAC/C,CAAC,ECXD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAME,GAAYF,EAAiB,YAAa,CAAC,CAAC,OAAQ,CAAE,EAAG,iBAAkB,IAAK,QAAQ,CAAE,CAAC,CAAC,ECTlG;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMG,GAAWH,EAAiB,WAAY,CAC5C,CAAC,UAAW,CAAE,GAAI,KAAM,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,QAAQ,CAAE,EAClE,CAAC,OAAQ,CAAE,EAAG,4BAA6B,IAAK,QAAQ,CAAE,EAC1D,CAAC,OAAQ,CAAE,EAAG,wBAAyB,IAAK,QAAQ,CAAE,CACxD,CAAC,ECbD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMI,GAASJ,EAAiB,SAAU,CACxC,CACE,OACA,CACE,EAAG,iGACH,IAAK,QACX,CACA,EACE,CAAC,OAAQ,CAAE,EAAG,uCAAwC,IAAK,QAAQ,CAAE,EACrE,CACE,OACA,CACE,EAAG,+FACH,IAAK,QACX,CACA,EACE,CAAC,OAAQ,CAAE,EAAG,aAAc,IAAK,QAAQ,CAAE,CAC7C,CAAC,EC1BD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMK,GAAML,EAAiB,MAAO,CAClC,CACE,OACA,CACE,EAAG,wGACH,IAAK,QACX,CACA,EACE,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,IAAK,IAAK,QAAQ,CAAE,CAC1D,CAAC,EClBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMM,EAAWN,EAAiB,WAAY,CAC5C,CAAC,OAAQ,CAAE,EAAG,6DAA8D,IAAK,QAAQ,CAAE,EAC3F,CAAC,OAAQ,CAAE,EAAG,0BAA2B,IAAK,QAAQ,CAAE,EACxD,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,EACzC,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,CAC3C,CAAC,ECfD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMO,GAAOP,EAAiB,OAAQ,CACpC,CAAC,UAAW,CAAE,OAAQ,qBAAsB,IAAK,QAAQ,CAAE,CAC7D,CAAC,ECXD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMQ,EAAOR,EAAiB,OAAQ,CACpC,CACE,OACA,CACE,EAAG,kIACH,IAAK,QACX,CACA,EACE,CAAC,OAAQ,CAAE,EAAG,6BAA8B,IAAK,QAAQ,CAAE,CAC7D,CAAC,ECqCD,eAAeS,EAAOC,EAAaC,EAAgC,CACjE,MAAMC,EAAM,MAAM,MAAMF,EAAK,CAAE,GAAGC,EAAM,QAAS,CAAE,eAAgB,mBAAoB,GAAGA,GAAM,OAAA,EAAW,EAC3G,GAAI,CAACC,EAAI,GAAI,CACX,MAAMC,EAAO,MAAMD,EAAI,KAAA,EAAO,MAAM,KAAO,CAAA,EAAG,EAC9C,MAAM,IAAI,MAAMC,EAAK,OAAS,QAAQD,EAAI,MAAM,EAAE,CACpD,CACA,OAAOA,EAAI,KAAA,CACb,CAKA,MAAME,GAA8D,CAClE,CAAE,GAAI,WAAY,MAAO,WAAY,KAAMf,EAAA,EAC3C,CAAE,GAAI,QAAS,MAAO,QAAS,KAAMgB,EAAA,EACrC,CAAE,GAAI,OAAQ,MAAO,aAAc,KAAMT,CAAA,EACzC,CAAE,GAAI,SAAU,MAAO,SAAU,KAAMU,EAAA,EACvC,CAAE,GAAI,cAAe,MAAO,cAAe,KAAMC,EAAA,EACjD,CAAE,GAAI,QAAS,MAAO,QAAS,KAAMT,CAAA,EACrC,CAAE,GAAI,WAAY,MAAO,WAAY,KAAML,EAAA,CAC7C,EAIA,SAAwBe,IAAY,CAClCC,GAAO,CAAE,MAAO,+BAAgC,YAAa,wFAAyF,QAAS,GAAM,EAErK,KAAM,CAAE,KAAAC,EAAM,QAASC,EAAa,QAAAC,CAAA,EAAYC,EAAA,EAC3BC,GAAA,EACrB,KAAM,CAACC,EAAKC,CAAM,EAAIC,EAAAA,SAAc,UAAU,EAE9C,OAAIN,EAEAO,EAAAA,KAAC,MAAA,CAAE,WAAA,oCAAE,UAAU,wBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAS,WAAA,mCAAA,CAAE,EACZD,EAAAA,IAAC,MAAA,CAAE,WAAA,oCAAE,UAAU,yCACb,SAAAA,EAAAA,IAACE,EAAA,CAAM,WAAA,oCAAE,KAAM,GAAI,UAAU,6BAA6B,EAC5D,EACAF,EAAAA,IAACG,EAAA,CAAS,WAAA,mCAAA,CAAE,CAAA,EACd,EAIA,CAACZ,GAAQ,CAACE,EAEVM,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,wBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAS,WAAA,oCAAA,CAAE,QACX,UAAA,iDAAQ,MAAO,CAAE,gBAAiB,WAAa,UAAU,sBACxD,SAAAF,EAAAA,KAAC,MAAA,iDAAI,UAAU,oBACb,SAAA,CAAAC,MAAC,IAAA,CAAA,WAAA,qCAAE,UAAU,kEAAkE,SAAA,QAAK,QACnF,KAAA,CAAC,WAAA,qCAAE,UAAU,0EAA0E,SAAA,gBAAa,QACpG,IAAA,iDAAE,UAAU,0CAAyC,SAAA,8CAAA,CAEtD,CAAA,CAAA,CACF,CAAA,CACF,EACAA,MAAC,UAAA,iDAAQ,UAAU,yBACjB,SAAAA,EAAAA,IAACI,GAAA,CAAG,WAAA,qCAAE,KAAK,WAAW,UAAU,+CAA8C,2BAE9E,EACF,EACAJ,EAAAA,IAACG,EAAA,CAAS,WAAA,oCAAA,CAAE,CAAA,EACd,EAKFJ,EAAAA,KAAC,MAAA,iDAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAS,WAAA,oCAAA,CAAE,QAEX,UAAA,CAAM,WAAA,qCAAE,MAAO,CAAE,gBAAiB,WAAa,UAAU,sBACxD,SAAAF,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,oBACb,SAAA,CAAAC,MAAC,IAAA,iDAAE,UAAU,kEAAkE,SAAA,QAAK,QACnF,KAAA,CAAC,WAAA,qCAAE,UAAU,2DAA2D,SAAA,WAAA,CAAS,CAAA,CAAA,CACpF,CAAA,CACF,EAGAA,EAAAA,IAAC,OAAE,WAAA,qCAAE,UAAU,gEACb,SAAAA,EAAAA,IAAC,uDAAI,UAAU,yBACb,SAAAA,EAAAA,IAAC,OAAE,WAAA,qCAAE,UAAU,oCACZ,SAAAf,GAAK,IAAKoB,GACTN,EAAAA,KAAC,SAAA,CAAK,WAAA,qCAEJ,QAAS,IAAMF,EAAOQ,EAAE,EAAE,EAC1B,UAAW,0GACTT,IAAQS,EAAE,GACN,kCACA,sDACN,GAEA,SAAA,CAAAL,EAAAA,IAACK,EAAE,KAAF,CAAK,WAAA,qCAAE,KAAM,GAAI,EACjBA,EAAE,KAAA,CAAA,EATEA,EAAE,EAAA,CAWV,CAAA,CACH,CAAA,CACF,EACF,EAEAL,EAAAA,IAAC,UAAA,CAAM,WAAA,qCAAE,UAAU,YACjB,SAAAD,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,oBACZ,SAAA,CAAAH,IAAQ,YAAcI,EAAAA,IAACM,GAAA,CAAU,WAAA,qCAAE,EACnCV,IAAQ,SAAWI,EAAAA,IAACO,GAAA,CAAO,WAAA,qCAAE,EAC7BX,IAAQ,QAAUI,EAAAA,IAACQ,GAAA,CAAM,WAAA,qCAAE,EAC3BZ,IAAQ,UAAYI,EAAAA,IAACS,GAAA,CAAQ,WAAA,qCAAE,EAC/Bb,IAAQ,eAAiBI,EAAAA,IAACU,GAAA,CAAa,WAAA,qCAAE,EACzCd,IAAQ,SAAWI,EAAAA,IAACW,GAAA,CAAO,WAAA,qCAAE,EAC7Bf,IAAQ,YAAcI,EAAAA,IAACY,GAAA,CAAU,WAAA,oCAAA,CAAE,CAAA,CAAA,CACtC,CAAA,CACF,EAEAZ,EAAAA,IAACG,EAAA,CAAS,WAAA,oCAAA,CAAE,CAAA,EACd,CAEJ,CAIA,SAASG,IAAc,CACrB,KAAM,CAACO,EAAOC,CAAQ,EAAIhB,EAAAA,SAAuB,IAAI,EAC/C,CAACiB,EAASC,CAAU,EAAIlB,EAAAA,SAAS,EAAI,EAM3C,OAJAmB,EAAAA,UAAU,IAAM,CACdrC,EAAW,kBAAkB,EAAE,KAAKkC,CAAQ,EAAE,QAAQ,IAAME,EAAW,EAAK,CAAC,CAC/E,EAAG,CAAA,CAAE,EAEDD,EAAgBf,EAAAA,IAACkB,EAAA,CAAa,WAAA,qCAAE,EAC/BL,EAGHd,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,uDACb,SAAA,CAAAC,MAACmB,GAAO,WAAA,qCAAE,MAAM,QAAQ,MAAON,EAAM,MAAO,EAC5Cb,MAACmB,GAAO,WAAA,qCAAE,MAAM,SAAS,MAAON,EAAM,OAAQ,EAC9Cb,MAACmB,GAAO,WAAA,qCAAE,MAAM,cAAc,MAAON,EAAM,YAAa,EACxDb,MAACmB,GAAO,WAAA,qCAAE,MAAM,aAAa,MAAON,EAAM,UAAW,EACrDb,MAACmB,GAAO,WAAA,qCAAE,MAAM,YAAY,MAAON,EAAM,eAAgB,EACzDb,MAACmB,GAAO,WAAA,qCAAE,MAAM,kBAAkB,MAAON,EAAM,cAAA,CAAgB,CAAA,EACjE,EAGAd,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,iDACb,SAAA,CAAAC,MAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,uCAAuC,SAAA,gBAAa,EACjEa,EAAM,YAAY,SAAW,QAC3B,IAAA,CAAA,WAAA,qCAAE,UAAU,wBAAwB,SAAA,aAAA,CAAW,EAEhDb,EAAAA,IAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,YACZ,SAAAa,EAAM,YAAY,IAAKO,GAAQ,CAC9B,MAAMC,EAAMR,EAAM,MAAQ,EAAI,KAAK,MAAOO,EAAI,MAAQP,EAAM,MAAS,GAAG,EAAI,EAC5E,OACEd,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAiB,UAAU,0BAC5B,SAAA,CAAAC,MAAC,QAAG,WAAA,qCAAE,UAAU,oDAAqD,WAAI,KAAK,EAC9EA,EAAAA,IAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,sDACb,SAAAA,EAAAA,IAAC,MAAA,CAAE,WAAA,qCACD,UAAU,sBACV,MAAO,CAAE,MAAO,GAAG,KAAK,IAAIqB,EAAK,CAAC,CAAC,IAAK,gBAAiB,SAAA,CAAU,CAAA,EAEvE,EACAtB,EAAAA,KAAC,OAAA,CAAG,WAAA,qCAAE,UAAU,wCAAyC,SAAA,CAAAqB,EAAI,MAAM,KAAGC,EAAI,IAAA,CAAA,CAAE,CAAA,CAAA,EARpED,EAAI,IASd,CAEJ,CAAC,CAAA,CACH,CAAA,EAEJ,EAGArB,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,iDACb,SAAA,CAAAC,MAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,uCAAuC,SAAA,yBAAsB,EAC1Ea,EAAM,aAAa,SAAW,QAC5B,IAAA,CAAA,WAAA,qCAAE,UAAU,wBAAwB,SAAA,gBAAA,CAAc,EAEnDb,EAAAA,IAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,4BACZ,SAAAa,EAAM,aAAa,IAAKS,GAAM,CAC7B,MAAMC,EAAM,KAAK,IAAI,GAAGV,EAAM,aAAa,IAAKW,GAAMA,EAAE,KAAK,EAAG,CAAC,EAC3DC,EAAI,KAAK,IAAKH,EAAE,MAAQC,EAAO,IAAK,CAAC,EAC3C,OACExB,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAe,UAAU,0CAC1B,SAAA,CAAAC,MAAC,QAAG,WAAA,qCAAE,UAAU,4BAA6B,WAAE,MAAM,EACrDA,EAAAA,IAAC,MAAA,CAAE,WAAA,qCACD,UAAU,mBACV,MAAO,CAAE,OAAQ,GAAGyB,CAAC,IAAK,gBAAiB,UAAW,UAAW,CAAA,EACjE,MAAO,GAAGH,EAAE,IAAI,KAAKA,EAAE,KAAK,EAAA,CAAA,EAE9BtB,EAAAA,IAAC,OAAA,CAAG,WAAA,qCAAE,UAAU,6EACb,SAAAsB,EAAE,KAAK,MAAM,CAAC,CAAA,CACjB,CAAA,CAAA,EATQA,EAAE,IAUZ,CAEJ,CAAC,CAAA,CACH,CAAA,CAAA,CAEJ,CAAA,EACF,EAnEiBtB,EAAAA,IAAC0B,GAAW,WAAA,qCAAE,QAAQ,uBAAuB,CAqElE,CAIA,SAASnB,IAAW,CAClB,KAAM,CAACoB,EAAOC,CAAQ,EAAI9B,EAAAA,SAAsB,CAAA,CAAE,EAC5C,CAAC+B,EAAOC,CAAQ,EAAIhC,EAAAA,SAAS,CAAC,EAC9B,CAACiC,EAAQC,CAAS,EAAIlC,EAAAA,SAAS,EAAE,EACjC,CAACmC,EAAMC,CAAO,EAAIpC,EAAAA,SAAS,CAAC,EAC5B,CAACiB,EAASC,CAAU,EAAIlB,EAAAA,SAAS,EAAI,EACrC,CAAE,KAAMqC,CAAA,EAAOzC,EAAA,EAEf0C,EAAYC,EAAAA,YAAY,SAAY,CACxCrB,EAAW,EAAI,EACf,GAAI,CACF,MAAMhC,EAAO,MAAMJ,EAA2C,yBAAyBqD,CAAI,WAAW,mBAAmBF,CAAM,CAAC,EAAE,EAClIH,EAAS5C,EAAK,KAAK,EACnB8C,EAAS9C,EAAK,KAAK,CACrB,QAAA,CACEgC,EAAW,EAAK,CAClB,CACF,EAAG,CAACiB,EAAMF,CAAM,CAAC,EAEjBd,EAAAA,UAAU,IAAM,CAAEmB,EAAA,CAAa,EAAG,CAACA,CAAS,CAAC,EAE7C,eAAeE,EAAWC,EAAc,CACtC,MAAMC,EAAUD,EAAE,OAAS,QAAU,OAAS,QAC9C,MAAM3D,EAAI,oBAAoB2D,EAAE,EAAE,QAAS,CAAE,OAAQ,QAAS,KAAM,KAAK,UAAU,CAAE,KAAMC,CAAA,CAAS,EAAG,EACvGJ,EAAA,CACF,CAEA,eAAeK,EAAWF,EAAc,CACjC,QAAQ,eAAeA,EAAE,KAAK,0BAA0B,IAC7D,MAAM3D,EAAI,oBAAoB2D,EAAE,EAAE,GAAI,CAAE,OAAQ,SAAU,EAC1DH,EAAA,EACF,CAEA,OACErC,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,iDAAI,UAAU,2BACb,SAAA,CAAAC,MAAC0C,GAAK,WAAA,qCAAE,KAAM,GAAI,UAAU,yDAAyD,EACrF1C,EAAAA,IAAC,QAAA,CAAI,WAAA,qCACH,KAAK,OACL,YAAY,2BACZ,MAAO+B,EACP,SAAWY,GAAM,CAAEX,EAAUW,EAAE,OAAO,KAAK,EAAGT,EAAQ,CAAC,CAAG,EAC1D,UAAU,0IAAA,CAAA,CACZ,EACF,EACAnC,EAAAA,KAAC,OAAA,CAAG,WAAA,qCAAE,UAAU,wBAAyB,SAAA,CAAA8B,EAAM,QAAA,CAAA,CAAM,CAAA,EACvD,EAEA7B,MAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,6DACZ,SAAAe,EACCf,EAAAA,IAACkB,EAAA,CAAa,WAAA,oCAAA,CAAE,EACdS,EAAM,SAAW,EACnB3B,EAAAA,IAAC,IAAA,iDAAE,UAAU,wCAAwC,SAAA,gBAAA,CAAc,QAElE,MAAA,CAAE,WAAA,qCAAE,UAAU,kBACb,SAAAD,EAAAA,KAAC,QAAA,CAAI,WAAA,qCAAE,UAAU,iBACf,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAI,WAAA,qCACH,SAAAD,EAAAA,KAAC,MAAC,WAAA,qCAAE,UAAU,mDACZ,SAAA,CAAAC,MAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,KAAE,QACvC,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,QAAK,QAC1C,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,OAAI,QACzC,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,OAAI,QACzC,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,OAAI,QACzC,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,SAAM,QAC3C,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,SAAA,CAAO,CAAA,CAAA,CAC/C,CAAA,CACF,EACAA,EAAAA,IAAC,QAAA,CAAI,WAAA,qCACF,SAAA2B,EAAM,IAAKY,GACVxC,EAAAA,KAAC,KAAA,CAAC,WAAA,qCAAa,UAAU,2CACvB,SAAA,CAAAC,MAAC,MAAC,WAAA,qCAAE,UAAU,0BAA2B,WAAE,GAAG,QAC7C,KAAA,iDAAG,UAAU,sCAAuC,WAAE,MAAM,EAC7DA,EAAAA,IAAC,MAAC,WAAA,qCAAE,UAAU,0BAA2B,SAAAuC,EAAE,MAAQ,GAAA,CAAI,EACvDvC,EAAAA,IAAC,sDAAG,UAAU,YACZ,SAAAA,EAAAA,IAAC,QAAG,WAAA,qCAAE,UAAW,gDAAgDuC,EAAE,OAAS,QAAU,0BAA4B,2BAA2B,GAC1I,SAAAA,EAAE,KACL,CAAA,CACF,EACAvC,EAAAA,IAAC,sDAAG,UAAU,qCAAsC,SAAAuC,EAAE,MAAQ,MAAA,CAAO,EACrEvC,EAAAA,IAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,0BAA2B,SAAA,IAAI,KAAKuC,EAAE,UAAU,EAAE,mBAAA,CAAmB,CAAE,EACrFvC,EAAAA,IAAC,KAAA,iDAAG,UAAU,YACZ,SAAAD,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CAAK,WAAA,qCACJ,QAAS,IAAMsC,EAAWC,CAAC,EAC3B,UAAU,gDACV,MAAOA,EAAE,OAAS,QAAU,iBAAmB,mBAE/C,SAAAvC,EAAAA,IAAC4C,GAAA,CAAK,WAAA,qCAAE,KAAM,EAAA,CAAI,CAAA,CAAA,EAEnBL,EAAE,KAAOJ,GAAI,UACX,SAAA,CAAK,WAAA,qCAAE,QAAS,IAAMM,EAAWF,CAAC,EAAG,UAAU,6CAA6C,MAAM,SACjG,SAAAvC,EAAAA,IAAC6C,GAAK,WAAA,qCAAE,KAAM,EAAA,CAAI,CAAA,CACpB,CAAA,CAAA,CAEJ,CAAA,CACF,CAAA,GA1BON,EAAE,EA2BX,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,EAEJ,EAECV,EAAQ,IACP9B,EAAAA,KAAC,OAAE,WAAA,qCAAE,UAAU,4BACb,SAAA,CAAAC,MAAC,UAAK,WAAA,qCAAE,SAAUiC,GAAQ,EAAG,QAAS,IAAMC,EAASY,GAAMA,EAAI,CAAC,EAAG,UAAU,uDAAuD,SAAA,OAAI,EACxI/C,EAAAA,KAAC,OAAA,CAAG,WAAA,qCAAE,UAAU,kCAAkC,SAAA,CAAA,QAAMkC,CAAA,EAAK,QAC5D,SAAA,iDAAO,SAAUA,EAAO,IAAMJ,EAAO,QAAS,IAAMK,EAASY,GAAMA,EAAI,CAAC,EAAG,UAAU,uDAAuD,SAAA,MAAA,CAAI,CAAA,CAAA,CACnJ,CAAA,EAEJ,CAEJ,CAIA,SAAStC,IAAU,CACjB,KAAM,CAACuC,EAAOC,CAAQ,EAAIlD,EAAAA,SAAwB,CAAA,CAAE,EAC9C,CAACiB,EAASC,CAAU,EAAIlB,EAAAA,SAAS,EAAI,EACrC,CAACmD,EAAYC,CAAa,EAAIpD,EAAAA,SAAS,EAAK,EAC5C,CAACqD,EAAYC,CAAa,EAAItD,EAAAA,SAAsB,IAAI,EAExDuD,EAAYhB,EAAAA,YAAY,SAAY,CACxCrB,EAAW,EAAI,EACf,GAAI,CACF,MAAMhC,EAAO,MAAMJ,EAA8B,iBAAiB,EAClEoE,EAAShE,EAAK,KAAK,CACrB,QAAA,CACEgC,EAAW,EAAK,CAClB,CACF,EAAG,CAAA,CAAE,EAELC,EAAAA,UAAU,IAAM,CAAEoC,EAAA,CAAa,EAAG,CAACA,CAAS,CAAC,EAE7C,eAAeC,EAAcR,EAAgB,CAC3C,MAAMS,EAAO,MAAM3E,EAAmB,mBAAmBkE,EAAE,EAAE,EAAE,EAC/D,MAAMlE,EAAI,mBAAmBkE,EAAE,EAAE,GAAI,CACnC,OAAQ,MACR,KAAM,KAAK,UAAU,CAAE,GAAGS,EAAK,KAAM,KAAM,KAAK,MAAMA,EAAK,KAAK,MAAQ,IAAI,EAAG,KAAM,KAAK,MAAMA,EAAK,KAAK,MAAQ,IAAI,EAAG,UAAW,CAACT,EAAE,SAAA,CAAW,CAAA,CACnJ,EACDO,EAAA,CACF,CAEA,eAAeG,EAAWV,EAAgB,CACnC,QAAQ,WAAWA,EAAE,KAAK,2BAA2B,IAC1D,MAAMlE,EAAI,mBAAmBkE,EAAE,EAAE,GAAI,CAAE,OAAQ,SAAU,EACzDO,EAAA,EACF,CAEA,OACEtD,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAG,WAAA,qCAAE,UAAU,wBAAyB,SAAA,CAAAgD,EAAM,OAAO,QAAA,EAAM,EAC5DhD,EAAAA,KAAC,SAAA,CAAK,WAAA,qCACJ,QAAS,IAAMmD,EAAc,CAACD,CAAU,EACxC,UAAU,yFACV,MAAO,CAAE,gBAAiB,SAAA,EAE1B,SAAA,CAAAjD,EAAAA,IAACyD,GAAA,CAAG,WAAA,qCAAE,KAAM,GAAI,EAAC,UAAA,CAAA,CAAA,CAEnB,EACF,EAECR,GAAcjD,EAAAA,IAAC0D,GAAA,CAAa,WAAA,qCAAE,UAAW,IAAM,CAAER,EAAc,EAAK,EAAGG,EAAA,CAAa,EAAG,SAAU,IAAMH,EAAc,EAAK,CAAA,CAAG,EAE9HlD,MAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,6DACZ,SAAAe,EACCf,EAAAA,IAACkB,EAAA,CAAa,WAAA,oCAAA,CAAE,EACd6B,EAAM,SAAW,EACnB/C,EAAAA,IAAC,IAAA,iDAAE,UAAU,wCAAwC,SAAA,mBAAA,CAAiB,QAErE,MAAA,CAAE,WAAA,qCAAE,UAAU,kBACb,SAAAD,EAAAA,KAAC,QAAA,CAAI,WAAA,qCAAE,UAAU,iBACf,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAI,WAAA,qCACH,SAAAD,EAAAA,KAAC,MAAC,WAAA,qCAAE,UAAU,mDACZ,SAAA,CAAAC,MAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,QAAK,QAC1C,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,OAAI,QACzC,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,WAAQ,QAC7C,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,SAAM,QAC3C,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,SAAM,QAC3C,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,UAAO,QAC5C,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,SAAA,CAAO,CAAA,CAAA,CAC/C,CAAA,CACF,EACAA,EAAAA,IAAC,QAAA,CAAI,WAAA,qCACF,SAAA+C,EAAM,IAAKD,GACV/C,EAAAA,KAAC,KAAA,CAAC,WAAA,qCAAa,UAAU,2CACvB,SAAA,CAAAC,MAAC,MAAC,WAAA,qCAAE,UAAU,wDAAyD,WAAE,MAAM,QAC9E,KAAA,CAAC,WAAA,qCAAE,UAAU,4CAA6C,WAAE,KAAK,QACjE,KAAA,CAAC,WAAA,qCAAE,UAAU,0BAA2B,WAAE,SAAS,EACpDA,EAAAA,IAAC,sDAAG,UAAU,YACZ,SAAAA,EAAAA,IAAC,QAAG,WAAA,qCAAE,UAAW,gDAAgD8C,EAAE,UAAY,8BAAgC,+BAA+B,GAC3I,SAAAA,EAAE,UAAY,YAAc,OAAA,CAC/B,CAAA,CACF,QACC,KAAA,CAAC,WAAA,qCAAE,UAAU,0BAA2B,WAAE,OAAO,EAClD9C,EAAAA,IAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,0BAA2B,SAAA,IAAI,KAAK8C,EAAE,UAAU,EAAE,mBAAA,CAAmB,CAAE,EACrF9C,EAAAA,IAAC,KAAA,iDAAG,UAAU,YACZ,SAAAD,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CAAK,WAAA,qCAAE,QAAS,IAAMsD,EAAcR,CAAC,EAAG,UAAU,gDAAgD,MAAOA,EAAE,UAAY,YAAc,UACnI,SAAAA,EAAE,UAAY9C,EAAAA,IAACzB,GAAA,iDAAO,KAAM,EAAA,CAAI,EAAKyB,EAAAA,IAACxB,GAAA,CAAE,WAAA,qCAAE,KAAM,GAAI,EACvD,EACAwB,EAAAA,IAAC,0DAAO,QAAS,IAAMoD,EAAcN,EAAE,EAAE,EAAG,UAAU,+CAA+C,MAAM,OACzG,SAAA9C,EAAAA,IAACvB,EAAA,CAAO,WAAA,qCAAE,KAAM,GAAI,EACtB,QACC,SAAA,CAAK,WAAA,qCAAE,QAAS,IAAM+E,EAAWV,CAAC,EAAG,UAAU,6CAA6C,MAAM,SACjG,SAAA9C,EAAAA,IAAC6C,EAAA,CAAK,WAAA,qCAAE,KAAM,GAAI,CAAA,CACpB,CAAA,CAAA,CACF,CAAA,CACF,CAAA,GAvBOC,EAAE,EAwBX,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,EAEJ,EAECK,SACEQ,GAAA,CAAW,WAAA,qCAAE,OAAQR,EAAY,QAAS,IAAM,CAAEC,EAAc,IAAI,EAAGC,EAAA,CAAa,EAAG,SAAU,IAAMD,EAAc,IAAI,CAAA,CAAG,CAAA,EAEjI,CAEJ,CAIA,SAASM,GAAe,CAAE,UAAAE,EAAW,SAAAC,GAA6D,CAChG,KAAM,CAACC,EAAOC,CAAQ,EAAIjE,EAAAA,SAAS,EAAE,EAC/B,CAACkE,EAAMC,CAAO,EAAInE,EAAAA,SAAS,EAAE,EAC7B,CAACoE,EAAaC,CAAc,EAAIrE,EAAAA,SAAS,EAAE,EAC3C,CAACsE,EAAUC,CAAW,EAAIvE,EAAAA,SAAS,MAAM,EACzC,CAACwE,EAAQC,CAAS,EAAIzE,EAAAA,SAAS,iBAAiB,EAChD,CAAC0E,EAAMC,CAAO,EAAI3E,EAAAA,SAAS,EAAE,EAC7B,CAAC4E,EAAWC,CAAY,EAAI7E,EAAAA,SAAS,EAAK,EAC1C,CAAC8E,EAAOC,CAAQ,EAAI/E,EAAAA,SAAS,EAAE,EAC/B,CAACgF,EAAUC,CAAW,EAAIjF,EAAAA,SAAS,EAAE,EACrC,CAACkF,EAAWC,CAAY,EAAInF,EAAAA,SAAS,EAAK,EAC1C,CAACoF,EAAOC,CAAQ,EAAIrF,EAAAA,SAAS,EAAE,EAC/B,CAACsF,EAAQC,CAAS,EAAIvF,EAAAA,SAAS,EAAK,EAE1C,SAASwF,EAASjF,EAAW,CAC3B,OAAOA,EAAE,cAAc,QAAQ,cAAe,GAAG,EAAE,QAAQ,SAAU,EAAE,CACzE,CAEA,eAAekF,EAAa5C,EAAoB,CAC9CA,EAAE,eAAA,EACFwC,EAAS,EAAE,EACXE,EAAU,EAAI,EAGd,MAAMG,EAAShB,EACZ,MAAM,OAAO,EACb,OAAO,OAAO,EACd,IAAKiB,IAAU,CAAE,KAAM,OAAiB,QAASA,EAAK,KAAA,GAAS,EAElE,GAAI,CACF,MAAM7G,EAAI,kBAAmB,CAC3B,OAAQ,OACR,KAAM,KAAK,UAAU,CACnB,MAAAkF,EACA,KAAME,GAAQsB,EAASxB,CAAK,EAC5B,YAAAI,EACA,SAAAE,EACA,OAAAE,EACA,KAAMkB,EACN,UAAAd,EACA,MAAAE,EACA,UAAWE,EACX,KAAM,CAAA,EACN,UAAW,GAAG,KAAK,IAAI,EAAG,KAAK,KAAKN,EAAK,MAAM,KAAK,EAAE,OAAS,GAAG,CAAC,CAAC,WAAA,CACrE,CAAA,CACF,EACDZ,EAAA,CACF,OAAS8B,EAAU,CACjBP,EAASO,EAAI,OAAO,CACtB,QAAA,CACEL,EAAU,EAAK,CACjB,CACF,CAEA,eAAeM,EAAkBhD,EAAwC,CACvE,MAAMiD,EAAOjD,EAAE,OAAO,QAAQ,CAAC,EAC/B,GAAI,CAACiD,EAAM,OACXX,EAAa,EAAI,EACjBE,EAAS,EAAE,EACX,MAAMU,EAAW,IAAI,SACrBA,EAAS,OAAO,QAASD,CAAI,EAC7B,GAAI,CACF,MAAM7G,EAAM,MAAM,MAAM,oBAAqB,CAAE,OAAQ,OAAQ,KAAM8G,EAAU,EAC/E,GAAI,CAAC9G,EAAI,GAAI,MAAM,IAAI,MAAM,eAAe,EAC5C,MAAMC,EAAO,MAAMD,EAAI,KAAA,EACvB8F,EAAS7F,EAAK,GAAG,CACnB,MAAmB,CACjBmG,EAAS,qBAAqB,CAChC,QAAA,CACEF,EAAa,EAAK,CACpB,CACF,CAEA,cACG,OAAA,CAAG,WAAA,qCAAE,SAAUM,EAAc,UAAU,2DACtC,SAAA,CAAAvF,MAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,kCAAkC,SAAA,mBAAgB,EAC/DkF,GAASlF,EAAAA,IAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,yEAA0E,SAAAkF,EAAM,EAEzGnF,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,wCACb,SAAA,CAAAC,MAAC8F,mDAAU,MAAM,QAAQ,SAAQ,GAC/B,SAAA9F,EAAAA,IAAC,QAAA,CAAI,WAAA,qCACH,KAAK,OACL,SAAO,GACP,MAAO8D,EACP,SAAWnB,GAAM,CAAEoB,EAASpB,EAAE,OAAO,KAAK,EAAQqB,GAAMC,EAAQqB,EAAS3C,EAAE,OAAO,KAAK,CAAC,CAAG,EAC3F,UAAU,cACV,YAAY,eAAA,CAAA,EAEhB,EACA3C,EAAAA,IAAC8F,EAAA,iDAAU,MAAM,OAAO,SAAQ,GAC9B,SAAA9F,EAAAA,IAAC,QAAA,CAAI,WAAA,qCAAE,KAAK,OAAO,SAAQ,GAAC,MAAOgE,EAAM,SAAWrB,GAAMsB,EAAQtB,EAAE,OAAO,KAAK,EAAG,UAAU,cAAc,YAAY,gBAAgB,EACzI,QACCmD,EAAA,CAAQ,WAAA,qCAAE,MAAM,WACf,eAAC,SAAA,CAAK,WAAA,qCAAE,MAAO1B,EAAU,SAAWzB,GAAM0B,EAAY1B,EAAE,OAAO,KAAK,EAAG,UAAU,cAC9E,SAAA,CAAC,OAAQ,YAAa,UAAW,SAAU,UAAW,WAAW,EAAE,IAAKoD,SACtE,SAAA,CAAK,WAAA,qCAAU,MAAOA,EAAI,YAAdA,CAAgB,CAC9B,EACH,EACF,EACA/F,EAAAA,IAAC8F,EAAA,CAAQ,WAAA,qCAAE,MAAM,SACf,SAAA9F,EAAAA,IAAC,QAAA,CAAI,WAAA,qCAAE,KAAK,OAAO,MAAOsE,EAAQ,SAAW3B,GAAM4B,EAAU5B,EAAE,OAAO,KAAK,EAAG,UAAU,aAAA,CAAc,CAAA,CACxG,CAAA,EACF,EAGA5C,EAAAA,KAAC+F,EAAA,CAAQ,WAAA,qCAAE,MAAM,QACf,SAAA,CAAA9F,EAAAA,IAAC,QAAA,CAAI,WAAA,qCAAE,KAAK,OAAO,OAAO,UAAU,SAAU2F,EAAmB,UAAU,aAAA,CAAc,EACxFX,GAAahF,EAAAA,IAAC,OAAA,CAAG,WAAA,qCAAE,UAAU,6BAA6B,SAAA,aAAU,EACpE4E,GACC7E,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,OACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAE,WAAA,qCAAE,IAAK4E,EAAO,IAAI,UAAU,UAAU,yBAAA,CAA0B,EACnE5E,EAAAA,IAAC,QAAA,CAAI,WAAA,qCACH,KAAK,OACL,MAAO8E,EACP,SAAWnC,GAAMoC,EAAYpC,EAAE,OAAO,KAAK,EAC3C,UAAU,mBACV,YAAY,oCAAA,CAAA,CACd,CAAA,CACF,CAAA,EAEJ,EAEA3C,EAAAA,IAAC8F,EAAA,iDAAU,MAAM,cACf,SAAA9F,EAAAA,IAAC,QAAA,CAAI,WAAA,qCAAE,KAAK,OAAO,MAAOkE,EAAa,SAAWvB,GAAMwB,EAAexB,EAAE,OAAO,KAAK,EAAG,UAAU,cAAc,YAAY,gBAAA,CAAiB,CAAA,CAC/I,EAEA3C,EAAAA,IAAC8F,EAAA,CAAQ,WAAA,qCAAE,MAAM,6CACf,SAAA9F,EAAAA,IAAC,WAAA,CAAO,WAAA,qCACN,KAAM,EACN,MAAOwE,EACP,SAAW7B,GAAM8B,EAAQ9B,EAAE,OAAO,KAAK,EACvC,UAAU,gCACV,YAAa;AAAA;AAAA,oBAAA,CAAA,EAEjB,EAEA5C,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,0BACb,SAAA,CAAAC,MAAC,yDAAM,GAAG,YAAY,KAAK,WAAW,QAAS0E,EAAW,SAAW/B,GAAMgC,EAAahC,EAAE,OAAO,OAAO,EAAG,UAAU,UAAU,EAC/H3C,EAAAA,IAAC,SAAI,WAAA,qCAAE,QAAQ,YAAY,UAAU,wBAAwB,SAAA,qBAAA,CAAmB,CAAA,EAClF,EAEAD,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,kBACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CAAK,WAAA,qCACJ,KAAK,SACL,SAAUqF,EACV,MAAO,CAAE,gBAAiB,SAAA,EAC1B,UAAU,0HAET,SAAA,CAAAA,SAAWlF,EAAA,CAAM,WAAA,qCAAE,KAAM,GAAI,UAAU,eAAe,EACtDkF,EAAS,UAAY,aAAA,CAAA,CAAA,EAExBpF,EAAAA,IAAC,SAAA,CAAK,WAAA,qCAAE,KAAK,SAAS,QAAS6D,EAAU,UAAU,6EAA4E,SAAA,QAAA,CAE/H,CAAA,CAAA,CACF,CAAA,EACF,CAEJ,CAKA,SAASF,GAAa,CAAE,OAAAqC,EAAQ,QAAAC,EAAS,SAAApC,GAA+B,CACtE,KAAM,CAACC,EAAOC,CAAQ,EAAIjE,EAAAA,SAAS,EAAE,EAC/B,CAACkE,EAAMC,CAAO,EAAInE,EAAAA,SAAS,EAAE,EAC7B,CAACoE,EAAaC,CAAc,EAAIrE,EAAAA,SAAS,EAAE,EAC3C,CAACsE,EAAUC,CAAW,EAAIvE,EAAAA,SAAS,MAAM,EACzC,CAACwE,EAAQC,CAAS,EAAIzE,EAAAA,SAAS,EAAE,EACjC,CAAC0E,EAAMC,CAAO,EAAI3E,EAAAA,SAAS,EAAE,EAC7B,CAAC4E,EAAWC,CAAY,EAAI7E,EAAAA,SAAS,EAAK,EAC1C,CAAC8E,EAAOC,CAAQ,EAAI/E,EAAAA,SAAS,EAAE,EAC/B,CAACgF,EAAUC,CAAW,EAAIjF,EAAAA,SAAS,EAAE,EACrC,CAACkF,EAAWC,CAAY,EAAInF,EAAAA,SAAS,EAAK,EAC1C,CAACoF,EAAOC,CAAQ,EAAIrF,EAAAA,SAAS,EAAE,EAC/B,CAACsF,EAAQC,CAAS,EAAIvF,EAAAA,SAAS,EAAK,EACpC,CAACiB,EAASC,CAAU,EAAIlB,EAAAA,SAAS,EAAI,EAE3CmB,EAAAA,UAAU,IAAM,CACdrC,EAAmB,mBAAmBoH,CAAM,EAAE,EAAE,KAAK,CAAC,CAAE,KAAAzC,KAAW,CACjEQ,EAASR,EAAK,OAAS,EAAE,EACzBU,EAAQV,EAAK,MAAQ,EAAE,EACvBY,EAAeZ,EAAK,aAAe,EAAE,EACrCc,EAAYd,EAAK,UAAY,MAAM,EACnCgB,EAAUhB,EAAK,QAAU,EAAE,EAC3BkB,EAAQ,MAAM,QAAQlB,EAAK,IAAI,EAAIA,EAAK,KAAK,IAAK2C,GAAWA,EAAE,SAAWA,EAAE,MAAQ,EAAE,EAAE,KAAK;AAAA;AAAA,CAAM,EAAI,EAAE,EACzGvB,EAAa,CAAC,CAACpB,EAAK,SAAS,EAC7BsB,EAAStB,EAAK,OAAS,EAAE,EACzBwB,EAAYxB,EAAK,WAAa,EAAE,EAChCvC,EAAW,EAAK,CAClB,CAAC,CACH,EAAG,CAACgF,CAAM,CAAC,EAEX,eAAeT,EAAa5C,EAAoB,CAC9CA,EAAE,eAAA,EACFwC,EAAS,EAAE,EACXE,EAAU,EAAI,EACd,MAAMG,EAAShB,EACZ,MAAM,OAAO,EACb,OAAO,OAAO,EACd,IAAKiB,IAAU,CAAE,KAAM,OAAiB,QAASA,EAAK,KAAA,GAAS,EAClE,GAAI,CACF,MAAM7G,EAAI,mBAAmBoH,CAAM,GAAI,CACrC,OAAQ,MACR,KAAM,KAAK,UAAU,CACnB,MAAAlC,EACA,KAAAE,EACA,YAAAE,EACA,SAAAE,EACA,OAAAE,EACA,KAAMkB,EACN,UAAAd,EACA,MAAAE,EACA,UAAWE,CAAA,CACZ,CAAA,CACF,EACDmB,EAAA,CACF,OAASP,EAAU,CACjBP,EAASO,EAAI,OAAO,CACtB,QAAA,CACEL,EAAU,EAAK,CACjB,CACF,CAEA,eAAeM,EAAkBhD,EAAwC,CACvE,MAAMiD,EAAOjD,EAAE,OAAO,QAAQ,CAAC,EAC/B,GAAI,CAACiD,EAAM,OACXX,EAAa,EAAI,EACjBE,EAAS,EAAE,EACX,MAAMU,EAAW,IAAI,SACrBA,EAAS,OAAO,QAASD,CAAI,EAC7B,GAAI,CACF,MAAM7G,EAAM,MAAM,MAAM,oBAAqB,CAAE,OAAQ,OAAQ,KAAM8G,EAAU,EAC/E,GAAI,CAAC9G,EAAI,GAAI,MAAM,IAAI,MAAM,eAAe,EAC5C,MAAMC,GAAO,MAAMD,EAAI,KAAA,EACvB8F,EAAS7F,GAAK,GAAG,CACnB,MAAmB,CACjBmG,EAAS,qBAAqB,CAChC,QAAA,CACEF,EAAa,EAAK,CACpB,CACF,CAEA,OAAIlE,EAAgBf,EAAAA,IAACkB,EAAA,CAAa,WAAA,qCAAE,SAGjC,OAAA,CAAG,WAAA,qCAAE,SAAUqE,EAAc,UAAU,gEACtC,SAAA,CAAAvF,MAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,kCAAkC,SAAA,iBAAc,EAC7DkF,GAASlF,EAAAA,IAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,yEAA0E,SAAAkF,EAAM,EAEzGnF,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,wCACb,SAAA,CAAAC,EAAAA,IAAC8F,EAAA,iDAAU,MAAM,QAAQ,SAAQ,GAC/B,SAAA9F,EAAAA,IAAC,QAAA,CAAI,WAAA,qCAAE,KAAK,OAAO,SAAQ,GAAC,MAAO8D,EAAO,SAAWnB,GAAMoB,EAASpB,EAAE,OAAO,KAAK,EAAG,UAAU,cAAc,YAAY,gBAAgB,EAC3I,EACA3C,EAAAA,IAAC8F,EAAA,iDAAU,MAAM,OAAO,SAAQ,GAC9B,SAAA9F,EAAAA,IAAC,QAAA,CAAI,WAAA,qCAAE,KAAK,OAAO,SAAQ,GAAC,MAAOgE,EAAM,SAAWrB,GAAMsB,EAAQtB,EAAE,OAAO,KAAK,EAAG,UAAU,cAAc,YAAY,gBAAgB,EACzI,QACCmD,EAAA,CAAQ,WAAA,qCAAE,MAAM,WACf,eAAC,SAAA,CAAK,WAAA,qCAAE,MAAO1B,EAAU,SAAWzB,GAAM0B,EAAY1B,EAAE,OAAO,KAAK,EAAG,UAAU,cAC9E,SAAA,CAAC,OAAQ,YAAa,UAAW,SAAU,UAAW,WAAW,EAAE,IAAKoD,SACtE,SAAA,CAAK,WAAA,qCAAU,MAAOA,EAAI,YAAdA,CAAgB,CAC9B,EACH,EACF,EACA/F,EAAAA,IAAC8F,EAAA,CAAQ,WAAA,qCAAE,MAAM,SACf,SAAA9F,EAAAA,IAAC,QAAA,CAAI,WAAA,qCAAE,KAAK,OAAO,MAAOsE,EAAQ,SAAW3B,GAAM4B,EAAU5B,EAAE,OAAO,KAAK,EAAG,UAAU,aAAA,CAAc,CAAA,CACxG,CAAA,EACF,EAEA5C,EAAAA,KAAC+F,EAAA,CAAQ,WAAA,qCAAE,MAAM,QACf,SAAA,CAAA9F,EAAAA,IAAC,QAAA,CAAI,WAAA,qCAAE,KAAK,OAAO,OAAO,UAAU,SAAU2F,EAAmB,UAAU,aAAA,CAAc,EACxFX,GAAahF,EAAAA,IAAC,OAAA,CAAG,WAAA,qCAAE,UAAU,6BAA6B,SAAA,aAAU,EACpE4E,GACC7E,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,OACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAE,WAAA,qCAAE,IAAK4E,EAAO,IAAI,UAAU,UAAU,yBAAA,CAA0B,QAClE,QAAA,iDAAM,KAAK,OAAO,MAAOE,EAAU,SAAWnC,GAAMoC,EAAYpC,EAAE,OAAO,KAAK,EAAG,UAAU,mBAAmB,YAAY,oCAAA,CAAqC,CAAA,CAAA,CAClK,CAAA,EAEJ,EAEA3C,EAAAA,IAAC8F,EAAA,iDAAU,MAAM,cACf,SAAA9F,EAAAA,IAAC,QAAA,CAAI,WAAA,qCAAE,KAAK,OAAO,MAAOkE,EAAa,SAAWvB,GAAMwB,EAAexB,EAAE,OAAO,KAAK,EAAG,UAAU,cAAc,YAAY,gBAAA,CAAiB,CAAA,CAC/I,EAEA3C,EAAAA,IAAC8F,EAAA,CAAQ,WAAA,qCAAE,MAAM,6CACf,SAAA9F,EAAAA,IAAC,WAAA,iDAAS,KAAM,EAAG,MAAOwE,EAAM,SAAW7B,GAAM8B,EAAQ9B,EAAE,OAAO,KAAK,EAAG,UAAU,gCAAgC,YAAa;AAAA;AAAA,oBAAA,CAA6C,CAAA,CAChL,EAEA5C,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,0BACb,SAAA,CAAAC,MAAC,yDAAM,GAAG,iBAAiB,KAAK,WAAW,QAAS0E,EAAW,SAAW/B,GAAMgC,EAAahC,EAAE,OAAO,OAAO,EAAG,UAAU,UAAU,EACpI3C,EAAAA,IAAC,yDAAM,QAAQ,iBAAiB,UAAU,wBAAwB,SAAA,WAAA,CAAS,CAAA,EAC7E,EAEAD,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,kBACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CAAK,WAAA,qCAAE,KAAK,SAAS,SAAUqF,EAAQ,MAAO,CAAE,gBAAiB,SAAA,EAAa,UAAU,0HACtF,SAAA,CAAAA,EAASpF,EAAAA,IAACE,EAAA,iDAAQ,KAAM,GAAI,UAAU,cAAA,CAAe,EAAKF,EAAAA,IAACvB,EAAA,iDAAS,KAAM,GAAI,EAC9E2G,EAAS,UAAY,cAAA,EACxB,EACApF,EAAAA,IAAC,SAAA,CAAK,WAAA,qCAAE,KAAK,SAAS,QAAS6D,EAAU,UAAU,6EAA4E,SAAA,QAAA,CAE/H,CAAA,CAAA,CACF,CAAA,EACF,CAEJ,CAIA,SAASnD,IAAiB,CACxB,KAAM,CAACyF,EAAaC,CAAc,EAAItG,EAAAA,SAAuB,CAAA,CAAE,EACzD,CAAC+B,EAAOC,CAAQ,EAAIhC,EAAAA,SAAS,CAAC,EAC9B,CAACiB,EAASC,CAAU,EAAIlB,EAAAA,SAAS,EAAI,EACrC,CAACmC,EAAMC,CAAO,EAAIpC,EAAAA,SAAS,CAAC,EAE5BuG,EAAkB,IAAM,CAC5BrF,EAAW,EAAI,EACfpC,EAAkD,+BAA+BqD,CAAI,EAAE,EACpF,KAAMjD,GAAS,CAAEoH,EAAepH,EAAK,WAAW,EAAG8C,EAAS9C,EAAK,KAAK,CAAG,CAAC,EAC1E,QAAQ,IAAMgC,EAAW,EAAK,CAAC,CACpC,EAEAC,EAAAA,UAAU,IAAM,CAAEoF,EAAA,CAAmB,EAAG,CAACpE,CAAI,CAAC,EAE9C,MAAMqE,EAAe,MAAOC,EAAYC,IAAkB,CACxD,GAAK,QAAQ,UAAUA,CAAK,yBAAyB,EACrD,GAAI,CACF,MAAM5H,EAAI,0BAA0B2H,CAAE,GAAI,CAAE,OAAQ,SAAU,EAC9DF,EAAA,CACF,MAAQ,CACN,MAAM,6BAA6B,CACrC,CACF,EAEA,OACEtG,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAG,WAAA,qCAAE,UAAU,wBAAyB,SAAA,CAAA8B,EAAM,cAAA,EAAY,EAE3D7B,MAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,6DACZ,SAAAe,EACCf,EAAAA,IAACkB,EAAA,CAAa,WAAA,oCAAA,CAAE,EACdiF,EAAY,SAAW,EACzBnG,EAAAA,IAAC,IAAA,iDAAE,UAAU,wCAAwC,SAAA,oBAAA,CAAkB,QAEtE,MAAA,CAAE,WAAA,qCAAE,UAAU,kBACb,SAAAD,EAAAA,KAAC,QAAA,CAAI,WAAA,qCAAE,UAAU,iBACf,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAI,WAAA,qCACH,SAAAD,EAAAA,KAAC,MAAC,WAAA,qCAAE,UAAU,mDACZ,SAAA,CAAAC,MAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,KAAE,QACvC,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,QAAK,QAC1C,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,SAAM,QAC3C,KAAA,CAAC,WAAA,qCAAE,UAAU,wBAAwB,SAAA,aAAU,EAChDA,EAAAA,IAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,uBAAA,CAAwB,CAAA,CAAA,CACxC,CAAA,CACF,EACAA,EAAAA,IAAC,QAAA,CAAI,WAAA,qCACF,SAAAmG,EAAY,IAAKM,GAChB1G,EAAAA,KAAC,KAAA,CAAC,WAAA,qCAAa,UAAU,2CACvB,SAAA,CAAAC,MAAC,MAAC,WAAA,qCAAE,UAAU,0BAA2B,WAAE,GAAG,QAC7C,KAAA,iDAAG,UAAU,sCAAuC,WAAE,MAAM,QAC5D,KAAA,CAAC,WAAA,qCAAE,UAAU,0BAA2B,WAAE,OAAO,EAClDA,EAAAA,IAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,0BAA2B,SAAA,IAAI,KAAKyG,EAAE,UAAU,EAAE,mBAAA,CAAmB,CAAE,EACrFzG,EAAAA,IAAC,KAAA,iDAAG,UAAU,YACZ,SAAAA,EAAAA,IAAC,SAAA,CAAK,WAAA,qCACJ,QAAS,IAAMsG,EAAaG,EAAE,GAAIA,EAAE,KAAK,EACzC,UAAU,sDACZ,SAAA,QAAA,CAAA,CAEA,CACF,CAAA,GAZOA,EAAE,EAaX,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,EAEJ,EAEC5E,EAAQ,IACP9B,EAAAA,KAAC,OAAE,WAAA,qCAAE,UAAU,4BACb,SAAA,CAAAC,MAAC,UAAK,WAAA,qCAAE,SAAUiC,GAAQ,EAAG,QAAS,IAAMC,EAASY,GAAMA,EAAI,CAAC,EAAG,UAAU,uDAAuD,SAAA,OAAI,EACxI/C,EAAAA,KAAC,OAAA,CAAG,WAAA,qCAAE,UAAU,kCAAkC,SAAA,CAAA,QAAMkC,CAAA,EAAK,QAC5D,SAAA,iDAAO,SAAUA,EAAO,IAAMJ,EAAO,QAAS,IAAMK,EAASY,GAAMA,EAAI,CAAC,EAAG,UAAU,uDAAuD,SAAA,MAAA,CAAI,CAAA,CAAA,CACnJ,CAAA,EAEJ,CAEJ,CAmBA,MAAM4D,EAAiB,CAAC,YAAa,UAAW,UAAW,WAAY,WAAW,EAElF,SAASjG,IAAY,CACnB,KAAM,CAACkG,EAAQC,CAAS,EAAI9G,EAAAA,SAAuB,CAAA,CAAE,EAC/C,CAACiB,EAASC,CAAU,EAAIlB,EAAAA,SAAS,EAAI,EACrC,CAACiC,EAAQC,CAAS,EAAIlC,EAAAA,SAAS,EAAE,EACjC,CAAC+G,EAAcC,CAAe,EAAIhH,EAAAA,SAAS,EAAE,EAC7C,CAACmC,EAAMC,CAAO,EAAIpC,EAAAA,SAAS,CAAC,EAC5B,CAAC+B,EAAOC,CAAQ,EAAIhC,EAAAA,SAAS,CAAC,EAC9B,CAACiH,EAAYC,CAAa,EAAIlH,EAAAA,SAAwB,IAAI,EAC1DmH,EAAQ,GAERC,EAAc7E,EAAAA,YAAY,SAAY,CAC1CrB,EAAW,EAAI,EACf,GAAI,CACF,MAAMmG,EAAS,IAAI,gBAAgB,CAAE,KAAM,OAAOlF,CAAI,EAAG,MAAO,OAAOgF,CAAK,CAAA,CAAG,EAC3ElF,GAAQoF,EAAO,IAAI,SAAUpF,CAAM,EACnC8E,GAAcM,EAAO,IAAI,SAAUN,CAAY,EACnD,MAAM7H,EAAO,MAAMJ,EAA6C,qBAAqBuI,CAAM,EAAE,EAC7FP,EAAU5H,EAAK,MAAM,EACrB8C,EAAS9C,EAAK,KAAK,CACrB,MAAQ,CACN4H,EAAU,CAAA,CAAE,CACd,CACA5F,EAAW,EAAK,CAClB,EAAG,CAACiB,EAAMF,EAAQ8E,CAAY,CAAC,EAE/B5F,EAAAA,UAAU,IAAM,CAAEiG,EAAA,CAAe,EAAG,CAACA,CAAW,CAAC,EAEjD,eAAeE,EAAaC,EAAiBC,EAAmB,CAC9D,GAAI,CACF,MAAM1I,EAAI,qBAAqByI,CAAO,UAAW,CAC/C,OAAQ,QACR,QAAS,CAAE,eAAgB,kBAAA,EAC3B,KAAM,KAAK,UAAU,CAAE,OAAQC,EAAW,CAAA,CAC3C,EACDV,EAAWW,GAASA,EAAK,IAAKC,GAAMA,EAAE,KAAOH,EAAU,CAAE,GAAGG,EAAG,OAAQF,CAAA,EAAcE,CAAC,CAAC,CACzF,MAAQ,CAAe,CACzB,CAEA,MAAMC,EAAa,KAAK,KAAK5F,EAAQoF,CAAK,EAEpCS,EAAejB,GAAc,CACjC,OAAQA,EAAA,CACN,IAAK,YAAa,MAAO,8BACzB,IAAK,UAAW,MAAO,4BACvB,IAAK,UAAW,MAAO,gCACvB,IAAK,WAAY,MAAO,gCACxB,IAAK,YAAa,MAAO,0BACzB,QAAS,MAAO,2BAAA,CAEpB,EAEA,OACE1G,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,kCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,iDAAI,UAAU,kBACb,SAAA,CAAAC,MAAC0C,GAAK,WAAA,qCAAE,KAAM,GAAI,UAAU,yDAAyD,EACrF1C,EAAAA,IAAC,QAAA,CAAI,WAAA,qCACH,KAAK,OACL,YAAY,0CACZ,MAAO+B,EACP,SAAWY,GAAM,CAAEX,EAAUW,EAAE,OAAO,KAAK,EAAGT,EAAQ,CAAC,CAAG,EAC1D,UAAU,sHAAA,CAAA,CACZ,EACF,EACAnC,EAAAA,KAAC,SAAA,CAAK,WAAA,qCACJ,MAAO8G,EACP,SAAWlE,GAAM,CAAEmE,EAAgBnE,EAAE,OAAO,KAAK,EAAGT,EAAQ,CAAC,CAAG,EAChE,UAAU,oHAEV,SAAA,CAAAlC,MAAC,SAAA,CAAK,WAAA,qCAAE,MAAM,GAAG,SAAA,eAAY,EAC5B0G,EAAe,IAAKD,SAClB,SAAA,iDAAe,MAAOA,EAAI,WAAE,OAAO,CAAC,EAAE,YAAA,EAAgBA,EAAE,MAAM,CAAC,CAAA,EAAnDA,CAAqD,CACnE,CAAA,CAAA,CAAA,CACH,EACF,EAGA1G,EAAAA,KAAC,IAAA,iDAAE,UAAU,wBAAyB,SAAA,CAAA8B,EAAM,SAAOA,IAAU,EAAI,IAAM,GAAG,QAAA,EAAM,EAE/Ed,QAAWG,EAAA,CAAa,WAAA,qCAAE,EAAKyF,EAAO,SAAW,EAChD3G,MAAC,MAAA,iDAAI,UAAU,2EAA0E,SAAA,kBAAA,CAEzF,SAEC,MAAA,iDAAI,UAAU,6DACb,SAAA,CAAAA,EAAAA,IAAC,MAAA,CAAE,WAAA,qCAAE,UAAU,kBACb,gBAAC,QAAA,CAAI,WAAA,qCAAE,UAAU,iBACf,SAAA,CAAAA,EAAAA,IAAC,QAAA,CAAI,WAAA,qCACH,SAAAD,EAAAA,KAAC,sDAAG,UAAU,yEACZ,SAAA,CAAAC,MAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,kCAAkC,SAAA,IAAC,QAChD,KAAA,CAAC,WAAA,qCAAE,UAAU,kCAAkC,SAAA,OAAI,QACnD,KAAA,CAAC,WAAA,qCAAE,UAAU,kCAAkC,SAAA,WAAQ,QACvD,KAAA,CAAC,WAAA,qCAAE,UAAU,kCAAkC,SAAA,OAAI,QACnD,KAAA,iDAAG,UAAU,mCAAmC,SAAA,SAAM,QACtD,KAAA,iDAAG,UAAU,kCAAkC,SAAA,SAAM,EACtDA,EAAAA,IAAC,KAAA,CAAC,WAAA,qCAAE,UAAU,qCAAA,CAAsC,CAAA,CAAA,CACtD,CAAA,CACF,EACAA,EAAAA,IAAC,QAAA,CAAI,WAAA,qCACF,SAAA2G,EAAO,IAAKgB,GACX5H,EAAAA,KAAC6H,GAAM,SAAN,CACC,SAAA,CAAA7H,EAAAA,KAAC,KAAA,CAAC,WAAA,qCACA,UAAU,0DACV,QAAS,IAAMiH,EAAcD,IAAeY,EAAM,GAAK,KAAOA,EAAM,EAAE,EAEtE,SAAA,CAAA3H,MAAC,MAAC,WAAA,qCAAE,UAAU,4CAA6C,WAAM,GAAG,EACpEA,MAAC,MAAC,WAAA,qCAAE,UAAU,8BACX,SAAA,IAAI,KAAK2H,EAAM,UAAU,EAAE,mBAAmB,QAAS,CAAE,MAAO,QAAS,IAAK,UAAW,KAAM,SAAA,CAAW,EAC7G,EACA5H,EAAAA,KAAC,KAAA,CAAC,WAAA,sCAAE,UAAU,YACZ,SAAA,CAAAC,EAAAA,IAAC,OAAE,WAAA,sCAAE,UAAU,4BAA6B,SAAA2H,EAAM,WAAa,GAAA,CAAI,QAClE,MAAA,CAAE,WAAA,sCAAE,UAAU,wBAAyB,WAAM,KAAA,CAAM,CAAA,EACtD,EACA3H,EAAAA,IAAC,KAAA,CAAC,WAAA,sCAAE,UAAU,mCAAmC,MAAO2H,EAAM,aAC3D,SAAAA,EAAM,YAAA,CACT,EACA5H,EAAAA,KAAC,KAAA,kDAAG,UAAU,uDAAsD,SAAA,CAAA,KAC/D4H,EAAM,aAAe,KAAK,QAAQ,CAAC,CAAA,EACxC,EACA3H,EAAAA,IAAC,KAAA,CAAC,WAAA,sCAAE,UAAU,YACZ,SAAAA,EAAAA,IAAC,SAAA,CAAK,WAAA,sCACJ,MAAO2H,EAAM,OACb,SAAWhF,GAAM,CAAEA,EAAE,gBAAA,EAAmByE,EAAaO,EAAM,GAAIhF,EAAE,OAAO,KAAK,CAAG,EAChF,QAAUA,GAAMA,EAAE,gBAAA,EAClB,UAAW,sEAAsE+E,EAAYC,EAAM,MAAM,CAAC,GAEzG,SAAAjB,EAAe,IAAKD,SAClB,SAAA,CAAK,WAAA,sCAAU,MAAOA,EAAI,WAAE,OAAO,CAAC,EAAE,YAAA,EAAgBA,EAAE,MAAM,CAAC,CAAA,EAAnDA,CAAqD,CACnE,CAAA,CAAA,EAEL,EACAzG,EAAAA,IAAC,MAAC,WAAA,sCAAE,UAAU,0BACX,SAAA+G,IAAeY,EAAM,GAAK3H,EAAAA,IAAC3B,GAAA,CAAQ,WAAA,sCAAE,KAAM,GAAI,EAAK2B,EAAAA,IAAC5B,IAAU,WAAA,sCAAE,KAAM,EAAA,CAAI,CAAA,CAC9E,CAAA,CAAA,CAAA,EAED2I,IAAeY,EAAM,IACpB3H,EAAAA,IAAC,MAAC,WAAA,sCACA,SAAAD,EAAAA,KAAC,KAAA,kDAAG,QAAS,EAAG,UAAU,gDACxB,SAAA,CAAAA,EAAAA,KAAC,MAAA,kDAAI,UAAU,gDACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAE,WAAA,sCACD,SAAA,CAAAC,MAAC,IAAA,kDAAE,UAAU,qBAAqB,SAAA,iBAAc,QAC/C,IAAA,CAAA,WAAA,sCAAE,UAAU,oCAAqC,WAAM,iBAAA,CAAkB,CAAA,EAC5E,EACAD,EAAAA,KAAC,MAAA,CAAE,WAAA,sCACD,SAAA,CAAAC,MAAC,IAAA,CAAA,WAAA,sCAAE,UAAU,qBAAqB,SAAA,OAAI,EACtCA,EAAAA,IAAC,KAAA,WAAA,sCAAE,UAAU,gBAAiB,SAAA2H,EAAM,SAAW,GAAA,CAAI,CAAA,CAAA,CACrD,CAAA,EACF,EACCA,EAAM,MAAM,OAAS,UACnB,MAAA,kDAAI,UAAU,qCACb,SAAA,CAAA3H,MAAC,IAAA,CAAA,WAAA,sCAAE,UAAU,yCAAyC,SAAA,aAAU,QAC/D,KAAA,CAAC,WAAA,sCAAE,UAAU,kCACX,SAAA2H,EAAM,MAAM,IAAI,CAACE,EAAMC,IACtB/H,EAAAA,KAAC,MAAC,WAAA,sCAAY,UAAU,uBACtB,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAG,WAAA,sCACD,SAAA,CAAA8H,EAAK,KACLA,EAAK,QAAU,KAAKA,EAAK,OAAO,IAAM,GACtCA,EAAK,SAAW,EAAI,MAAMA,EAAK,QAAQ,GAAK,EAAA,EAC/C,EACA9H,EAAAA,KAAC,OAAA,CAAG,WAAA,sCAAE,UAAU,gBAAgB,SAAA,CAAA,KAAG8H,EAAK,YAAc,KAAK,QAAQ,CAAC,CAAA,CAAA,CAAE,CAAA,CAAA,EAN/DC,CAOT,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,CACF,CAAA,GAlEiBH,EAAM,EAoE3B,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,EAGCF,EAAa,GACZ1H,EAAAA,KAAC,OAAE,WAAA,sCAAE,UAAU,uEACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CAAK,WAAA,sCACJ,QAAS,IAAMkC,EAASY,GAAM,KAAK,IAAI,EAAGA,EAAI,CAAC,CAAC,EAChD,SAAUb,IAAS,EACnB,UAAU,gFACZ,SAAA,UAAA,CAAA,EAGAlC,EAAAA,KAAC,OAAA,kDAAK,UAAU,wBAAwB,SAAA,CAAA,QAAMkC,EAAK,OAAKwF,CAAA,EAAW,EACnEzH,EAAAA,IAAC,SAAA,CAAK,WAAA,sCACJ,QAAS,IAAMkC,EAASY,GAAM,KAAK,IAAI2E,EAAY3E,EAAI,CAAC,CAAC,EACzD,SAAUb,GAAQwF,EAClB,UAAU,gFACZ,SAAA,MAAA,CAAA,CAEA,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,EAEJ,CAEJ,CAQA,SAAS9G,IAAW,CAClB,KAAM,CAACoH,EAAMC,CAAO,EAAIlI,EAAAA,SAAoB,YAAY,EAExD,OACEC,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,YAEb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,aACZ,SAAA,CACC,CAAE,GAAI,aAAuB,MAAO,iBAAA,EACpC,CAAE,GAAI,cAAwB,MAAO,mBAAA,EACrC,CAAE,GAAI,OAAiB,MAAO,YAAA,CAAa,EAC3C,IAAKiI,GACLjI,EAAAA,IAAC,SAAA,CAAK,WAAA,sCAEJ,QAAS,IAAMgI,EAAQC,EAAE,EAAE,EAC3B,UAAW,gEACTF,IAASE,EAAE,GACP,0BACA,gEACN,GAEC,SAAAA,EAAE,KAAA,EAREA,EAAE,EAAA,CAUV,EACH,EAECF,IAAS,cAAgB/H,EAAAA,IAACkI,GAAA,CAAiB,WAAA,sCAAE,EAC7CH,IAAS,eAAiB/H,EAAAA,IAACmI,GAAA,CAAW,WAAA,sCAAE,EACxCJ,IAAS,QAAU/H,EAAAA,IAACoI,GAAA,CAAc,WAAA,qCAAA,CAAE,CAAA,EACvC,CAEJ,CAEA,SAASF,IAAqB,CAC5B,KAAM,CAACG,EAASC,CAAU,EAAIxI,EAAAA,SAAS,EAAE,EACnC,CAACyI,EAAUC,CAAW,EAAI1I,EAAAA,SAAS,EAAE,EACrC,CAAC2I,EAASC,CAAU,EAAI5I,EAAAA,SAAS,EAAK,EACtC,CAAC6I,EAAQC,CAAS,EAAI9I,EAAAA,SAAiE,IAAI,EAC3F,CAACoF,EAAOC,CAAQ,EAAIrF,EAAAA,SAAS,EAAE,EAC/B,CAAC+I,EAASC,CAAU,EAAIhJ,EAAAA,SAAS,EAAK,EAE5C,eAAeiJ,GAAa,CAC1B,GAAI,GAACV,EAAQ,KAAA,GAAU,CAACE,EAAS,SAC5B,QAAQ,0CAA0C,EACvD,CAAAG,EAAW,EAAI,EACfvD,EAAS,EAAE,EACXyD,EAAU,IAAI,EACd,GAAI,CACF,MAAM5J,EAAO,MAAMJ,EAAqD,8BAA+B,CACrG,OAAQ,OACR,KAAM,KAAK,UAAU,CAAE,QAAAyJ,EAAS,SAAAE,EAAU,CAAA,CAC3C,EACDK,EAAU5J,CAAI,CAChB,OAAS0G,EAAU,CACjBP,EAASO,EAAI,OAAO,CACtB,QAAA,CACEgD,EAAW,EAAK,CAClB,EACF,CAEA,OACE3I,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,2DACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAE,WAAA,sCACD,SAAA,CAAAC,MAAC,KAAA,CAAC,WAAA,sCAAE,UAAU,kCAAkC,SAAA,qBAAkB,QACjE,IAAA,CAAA,WAAA,sCAAE,UAAU,6BAA6B,SAAA,6CAAA,CAA2C,CAAA,EACvF,QAEC8F,EAAA,CAAQ,WAAA,sCAAE,MAAM,UAAU,SAAQ,GACjC,SAAA9F,EAAAA,IAAC,QAAA,CAAI,WAAA,sCACH,KAAK,OACL,MAAOqI,EACP,SAAW1F,GAAM2F,EAAW3F,EAAE,OAAO,KAAK,EAC1C,YAAY,yCACZ,UAAU,qIAAA,CAAA,EAEd,QAECmD,EAAA,CAAQ,WAAA,sCAAE,MAAM,cAAc,SAAQ,GACrC,SAAA9F,EAAAA,IAAC,WAAA,CAAO,WAAA,sCACN,KAAM,GACN,MAAOuI,EACP,SAAW5F,GAAM6F,EAAY7F,EAAE,OAAO,KAAK,EAC3C,YAAa;AAAA;AAAA,8BACb,UAAU,wJAAA,CAAA,EAEd,EAGC4F,EAAS,KAAA,GACRxI,EAAAA,KAAC,MAAA,CAAE,WAAA,sCACD,SAAA,CAAAA,EAAAA,KAAC,SAAA,CAAK,WAAA,sCACJ,QAAS,IAAM+I,EAAW,CAACD,CAAO,EAClC,UAAU,+EAET,SAAA,CAAAA,EAAU7I,EAAAA,IAACzB,GAAA,CAAK,WAAA,sCAAE,KAAM,EAAA,CAAI,EAAKyB,EAAAA,IAACxB,GAAA,CAAE,WAAA,sCAAE,KAAM,GAAI,EAChDqK,EAAU,eAAiB,cAAA,CAAA,CAAA,EAE7BA,GACC9I,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,wDACb,SAAA,CAAAC,MAAC,IAAA,CAAA,WAAA,sCAAE,UAAU,qDAAqD,SAAA,UAAO,EACzEA,EAAAA,IAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,4BAA4B,wBAAyB,CAAE,OAAQuI,EAAS,CAAG,CAAA,CAAA,CAC5F,CAAA,EAEJ,EAGDrD,GAASlF,EAAAA,IAAC0B,EAAA,CAAW,WAAA,sCAAE,QAASwD,EAAO,EAEvCyD,GACC5I,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,0GACb,SAAA,CAAAC,EAAAA,IAACgJ,EAAA,CAAU,WAAA,sCAAE,KAAM,GAAI,EAAC,QAClBL,EAAO,KAAK,OAAKA,EAAO,MAAM,WAASA,EAAO,OAAS,GAAK,KAAKA,EAAO,MAAM,UAAA,EACtF,EAGF5I,EAAAA,KAAC,SAAA,CAAK,WAAA,sCACJ,QAASgJ,EACT,SAAUN,GAAW,CAACJ,EAAQ,QAAU,CAACE,EAAS,KAAA,EAClD,UAAU,yGACV,MAAO,CAAE,gBAAiB,SAAA,EAEzB,SAAA,CAAAE,EAAUzI,EAAAA,IAACE,EAAA,kDAAQ,KAAM,GAAI,UAAU,cAAA,CAAe,EAAKF,EAAAA,IAACrB,EAAA,CAAG,WAAA,sCAAE,KAAM,GAAI,EAC3E8J,EAAU,aAAe,yBAAA,CAAA,CAAA,CAC5B,EACF,CAEJ,CAEA,SAASN,IAAe,CACtB,KAAM,CAACpF,EAAOC,CAAQ,EAAIlD,EAAAA,SAAwB,CAAA,CAAE,EAC9C,CAACiB,EAASC,CAAU,EAAIlB,EAAAA,SAAS,EAAI,EACrC,CAACmJ,EAAWC,CAAY,EAAIpJ,EAAAA,SAAwB,IAAI,EACxD,CAACqJ,EAASC,CAAU,EAAItJ,EAAAA,SAA0E,CAAA,CAAE,EACpG,CAACuJ,EAAQC,CAAS,EAAIxJ,EAAAA,SAAiC,CAAA,CAAE,EAE/DmB,EAAAA,UAAU,IAAM,CACdrC,EAA8B,iBAAiB,EAC5C,KAAM0C,GAAM0B,EAAS1B,EAAE,MAAM,OAAQwB,GAAMA,EAAE,SAAS,CAAC,CAAC,EACxD,QAAQ,IAAM9B,EAAW,EAAK,CAAC,CACpC,EAAG,CAAA,CAAE,EAEL,eAAeuI,EAAavD,EAAgBlC,EAAe,CACzD,GAAK,QAAQ,iCAAiCA,CAAK,IAAI,EACvD,CAAAoF,EAAalD,CAAM,EACnBsD,EAAW/B,GAAS,CAAE,MAAM,EAAI,CAAE,GAAGA,CAAA,EAAQ,cAAO,EAAEvB,CAAM,EAAU,CAAG,CAAC,EAC1E,GAAI,CACF,MAAMhH,EAAO,MAAMJ,EAAqD,gCAAgCoH,CAAM,GAAI,CAChH,OAAQ,MAAA,CACT,EACDoD,EAAY7B,IAAU,CAAE,GAAGA,EAAM,CAACvB,CAAM,EAAGhH,CAAA,EAAO,CACpD,OAAS0G,EAAU,CACjB4D,EAAW/B,IAAU,CAAE,GAAGA,EAAM,CAACvB,CAAM,EAAGN,EAAI,OAAA,EAAU,CAC1D,QAAA,CACEwD,EAAa,IAAI,CACnB,EACF,CAEA,OACEnJ,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,2DACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAE,WAAA,sCACD,SAAA,CAAAC,MAAC,KAAA,CAAC,WAAA,sCAAE,UAAU,kCAAkC,SAAA,0BAAuB,QACtE,IAAA,CAAA,WAAA,sCAAE,UAAU,6BAA6B,SAAA,qDAAA,CAAmD,CAAA,EAC/F,EAECe,EACCf,EAAAA,IAACkB,EAAA,CAAa,WAAA,qCAAA,CAAE,EACd6B,EAAM,SAAW,EACnB/C,EAAAA,IAAC,IAAA,CAAA,WAAA,sCAAE,UAAU,wBAAwB,SAAA,8BAAA,CAA4B,EAEjEA,EAAAA,IAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,YACZ,SAAA+C,EAAM,IAAKD,GACV/C,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAED,UAAU,sFAEV,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,UACb,SAAA,CAAAC,MAAC,KAAA,WAAA,sCAAE,UAAU,+CAAgD,WAAE,MAAM,EACrED,EAAAA,KAAC,IAAA,CAAA,WAAA,sCAAE,UAAU,wBACV,SAAA,CAAA+C,EAAE,SAAS,MAAIA,EAAE,OAAO,MAAI,IAAI,KAAKA,EAAE,UAAU,EAAE,mBAAA,CAAmB,CAAA,CACzE,CAAA,EACF,EACA/C,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,mCACZ,SAAA,CAAAoJ,EAAQrG,EAAE,EAAE,GACX/C,OAAC,yDAAK,UAAU,iDACd,SAAA,CAAAC,EAAAA,IAACgJ,EAAA,CAAU,WAAA,sCAAE,KAAM,GAAI,EAAE,IAAEG,EAAQrG,EAAE,EAAE,EAAE,KAAK,OAAA,EAChD,EAEDuG,EAAOvG,EAAE,EAAE,UACT,OAAA,CAAG,WAAA,sCAAE,UAAU,+CACd,SAAA,CAAA9C,EAAAA,IAACwJ,EAAA,CAAU,WAAA,sCAAE,KAAM,GAAI,EAAE,IAAEH,EAAOvG,EAAE,EAAE,CAAA,EACxC,EAEF/C,EAAAA,KAAC,SAAA,CAAK,WAAA,sCACJ,QAAS,IAAMwJ,EAAazG,EAAE,GAAIA,EAAE,KAAK,EACzC,SAAUmG,IAAcnG,EAAE,GAC1B,UAAU,+GACV,MAAO,CAAE,gBAAiB,SAAA,EAEzB,SAAA,CAAAmG,IAAcnG,EAAE,GACf9C,EAAAA,IAACE,EAAA,CAAM,WAAA,sCAAE,KAAM,GAAI,UAAU,cAAA,CAAe,EAE5CF,EAAAA,IAACrB,EAAA,CAAG,WAAA,sCAAE,KAAM,GAAI,EACjB,QAAA,CAAA,CAAA,CAEH,CAAA,CACF,CAAA,CAAA,EAjCKmE,EAAE,EAAA,CAmCV,CAAA,CACH,CAAA,EAEJ,CAEJ,CAEA,SAASsF,IAAkB,CACzB,KAAM,CAAE,KAAA7I,CAAA,EAASG,EAAA,EACX,CAAC+J,EAAIC,CAAK,EAAI5J,EAAAA,SAASP,GAAM,OAAS,EAAE,EACxC,CAACoK,EAAUC,CAAW,EAAI9J,EAAAA,SAAS,SAAS,EAC5C,CAAC2I,EAASC,CAAU,EAAI5I,EAAAA,SAAS,EAAK,EACtC,CAAC6I,EAAQC,CAAS,EAAI9I,EAAAA,SAAiE,IAAI,EAC3F,CAACoF,EAAOC,CAAQ,EAAIrF,EAAAA,SAAS,EAAE,EAErC,eAAeiJ,GAAa,CAC1B,GAAKU,EAAG,OACR,CAAAf,EAAW,EAAI,EACfvD,EAAS,EAAE,EACXyD,EAAU,IAAI,EACd,GAAI,CACF,MAAM5J,EAAO,MAAMJ,EAAqD,wBAAyB,CAC/F,OAAQ,OACR,KAAM,KAAK,UAAU,CAAE,GAAA6K,EAAI,SAAAE,EAAU,CAAA,CACtC,EACDf,EAAU5J,CAAI,CAChB,OAAS0G,EAAU,CACjBP,EAASO,EAAI,OAAO,CACtB,QAAA,CACEgD,EAAW,EAAK,CAClB,EACF,CAEA,OACE3I,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,2DACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAE,WAAA,sCACD,SAAA,CAAAC,MAAC,KAAA,kDAAG,UAAU,kCAAkC,SAAA,kBAAe,QAC9D,IAAA,CAAA,WAAA,sCAAE,UAAU,6BAA6B,SAAA,iEAAA,CAA+D,CAAA,EAC3G,EAEAD,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,wCACb,SAAA,CAAAC,EAAAA,IAAC8F,EAAA,CAAQ,WAAA,sCAAE,MAAM,YACf,SAAA9F,EAAAA,IAAC,QAAA,CAAI,WAAA,sCACH,KAAK,QACL,MAAOyJ,EACP,SAAW9G,GAAM+G,EAAM/G,EAAE,OAAO,KAAK,EACrC,YAAY,iBACZ,UAAU,qIAAA,CAAA,EAEd,EAEA3C,EAAAA,IAAC8F,EAAA,CAAQ,WAAA,sCAAE,MAAM,WACf,SAAA/F,EAAAA,KAAC,SAAA,CAAK,WAAA,sCACJ,MAAO4J,EACP,SAAWhH,GAAMiH,EAAYjH,EAAE,OAAO,KAAK,EAC3C,UAAU,+IAEV,SAAA,CAAA3C,MAAC,SAAA,CAAK,WAAA,sCAAE,MAAM,UAAU,SAAA,mBAAgB,QACvC,SAAA,CAAK,WAAA,sCAAE,MAAM,aAAa,SAAA,qBAAkB,QAC5C,SAAA,CAAK,WAAA,sCAAE,MAAM,QAAQ,SAAA,qBAAkB,QACvC,SAAA,CAAK,WAAA,sCAAE,MAAM,iBAAiB,SAAA,gBAAA,CAAc,CAAA,CAAA,CAAA,CAC/C,CACF,CAAA,EACF,EAECkF,GAASlF,EAAAA,IAAC0B,EAAA,CAAW,WAAA,sCAAE,QAASwD,EAAO,EAEvCyD,GACC5I,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAW,+DACd4I,EAAO,KACH,8CACA,uCACN,GACG,SAAA,CAAAA,EAAO,KAAO3I,MAACgJ,EAAA,kDAAY,KAAM,EAAA,CAAI,EAAKhJ,EAAAA,IAACwJ,EAAA,CAAU,WAAA,sCAAE,KAAM,GAAI,EACjEb,EAAO,KAAO,sBAAsBA,EAAO,EAAE,GAAK,2BAAA,EACrD,EAGF5I,EAAAA,KAAC,SAAA,CAAK,WAAA,sCACJ,QAASgJ,EACT,SAAUN,GAAW,CAACgB,EAAG,KAAA,EACzB,UAAU,yGACV,MAAO,CAAE,gBAAiB,SAAA,EAEzB,SAAA,CAAAhB,EAAUzI,EAAAA,IAACE,EAAA,kDAAQ,KAAM,GAAI,UAAU,cAAA,CAAe,EAAKF,EAAAA,IAACrB,EAAA,CAAG,WAAA,sCAAE,KAAM,GAAI,EAC3E8J,EAAU,aAAe,WAAA,CAAA,CAAA,CAC5B,EACF,CAEJ,CAIA,SAAS7H,IAAc,CACrB,KAAM,CAACiJ,EAAQC,CAAS,EAAIhK,EAAAA,SAAsB,CAAA,CAAE,EAC9C,CAACiB,EAASC,CAAU,EAAIlB,EAAAA,SAAS,EAAI,EACrC,CAACiK,EAAUC,CAAW,EAAIlK,EAAAA,SAAwB,IAAI,EACtD,CAACmK,EAAKC,CAAM,EAAIpK,EAAAA,SAAS,8BAA8B,EACvD,CAACqK,EAAaC,CAAc,EAAItK,EAAAA,SAAgD,IAAI,EACpF,CAACuK,EAAYC,CAAa,EAAIxK,EAAAA,SAAS,EAAE,EACzC,CAACyK,EAASC,CAAU,EAAI1K,EAAAA,SAAS,EAAK,EAE5CmB,EAAAA,UAAU,IAAM,CACdrC,EAA6B,sBAAsB,EAAE,KAAM0C,GAAMwI,EAAUxI,EAAE,MAAM,CAAC,EAAE,QAAQ,IAAMN,EAAW,EAAK,CAAC,CACvH,EAAG,CAAA,CAAE,EAEL,eAAeyJ,GAAW,CACxBH,EAAc,EAAE,EAChBF,EAAe,IAAI,EACnBI,EAAW,EAAI,EACf,GAAI,CACF,MAAMxL,EAAO,MAAMJ,EAAoC,2BAA2B,mBAAmBqL,CAAG,CAAC,EAAE,EAC3GG,EAAepL,CAAI,CACrB,OAAS0G,EAAU,CACjB4E,EAAc5E,EAAI,OAAO,CAC3B,QAAA,CACE8E,EAAW,EAAK,CAClB,CACF,CAEA,OACEzK,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,iDACb,SAAA,CAAAC,MAAC,KAAA,CAAC,WAAA,sCAAE,UAAU,uCAAuC,SAAA,kBAAe,EACnEe,QACEG,EAAA,CAAa,WAAA,sCAAE,EAEhBlB,EAAAA,IAAC,OAAE,WAAA,sCAAE,UAAU,YACZ,SAAA6J,EAAO,IAAKxJ,UACV,MAAA,CAAE,WAAA,sCAAe,UAAU,oCAC1B,SAAA,CAAAN,EAAAA,KAAC,SAAA,CAAK,WAAA,sCACJ,QAAS,IAAMiK,EAAYD,IAAa1J,EAAE,KAAO,KAAOA,EAAE,IAAI,EAC9D,UAAU,gFAEV,SAAA,CAAAN,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,0BACb,SAAA,CAAAC,MAAC1B,IAAO,WAAA,sCAAE,KAAM,GAAI,UAAU,gBAAgB,QAC7C,OAAA,CAAG,WAAA,sCAAE,UAAU,8CAA+C,WAAE,KAAK,EACtEyB,EAAAA,KAAC,OAAA,CAAG,WAAA,sCAAE,UAAU,wBAAyB,SAAA,CAAAM,EAAE,SAAS,OAAA,CAAA,CAAK,CAAA,EAC3D,EACC0J,IAAa1J,EAAE,WAAQhC,GAAA,kDAAU,KAAM,GAAI,UAAU,gBAAgB,QAAMD,GAAA,CAAU,WAAA,sCAAE,KAAM,GAAI,UAAU,eAAA,CAAgB,CAAA,CAAA,CAAA,EAE7H2L,IAAa1J,EAAE,MACdL,EAAAA,IAAC,OAAE,WAAA,sCAAE,UAAU,YACb,SAAAD,EAAAA,KAAC,QAAA,CAAI,WAAA,sCAAE,UAAU,iBACf,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAI,WAAA,sCACH,SAAAD,EAAAA,KAAC,uDAAG,UAAU,gBACZ,SAAA,CAAAC,MAAC,KAAA,CAAC,WAAA,sCAAE,UAAU,iBAAiB,SAAA,SAAM,QACpC,KAAA,CAAC,WAAA,sCAAE,UAAU,iBAAiB,SAAA,OAAI,QAClC,KAAA,CAAC,WAAA,sCAAE,UAAU,iBAAiB,SAAA,KAAE,QAChC,KAAA,CAAC,WAAA,sCAAE,UAAU,iBAAiB,SAAA,UAAA,CAAQ,CAAA,CAAA,CACzC,CAAA,CACF,EACAA,EAAAA,IAAC,QAAA,CAAI,WAAA,sCACF,WAAE,QAAQ,IAAK+F,GACdhG,EAAAA,KAAC,KAAA,CAAC,WAAA,sCAAe,UAAU,0BACzB,SAAA,CAAAC,MAAC,MAAC,WAAA,sCAAE,UAAU,+BAAgC,WAAE,KAAK,QACpD,KAAA,CAAC,WAAA,sCAAE,UAAU,qBAAsB,WAAE,KAAK,EAC3CA,EAAAA,IAAC,MAAC,WAAA,sCAAE,UAAU,OAAQ,SAAA+F,EAAE,GAAK,MAAQ,EAAA,CAAG,EACxC/F,EAAAA,IAAC,uDAAG,UAAU,OAAQ,SAAA+F,EAAE,QAAU,MAAQ,EAAA,CAAG,CAAA,GAJtCA,EAAE,IAKX,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAAA,GAlCM1F,EAAE,IAoCZ,CACD,CAAA,CACH,CAAA,EAEJ,EAGAN,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,iDACb,SAAA,CAAAC,MAAC,KAAA,CAAC,WAAA,sCAAE,UAAU,uCAAuC,SAAA,mBAAgB,QACpE,IAAA,CAAA,WAAA,sCAAE,UAAU,6BAA6B,SAAA,4CAAyC,EACnFD,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,WAAA,CAAO,WAAA,sCACN,KAAM,EACN,MAAOiK,EACP,SAAWtH,GAAMuH,EAAOvH,EAAE,OAAO,KAAK,EACtC,UAAYA,GAAM,CAAMA,EAAE,MAAQ,UAAYA,EAAE,SAAWA,EAAE,UAAU8H,EAAA,CAAY,EACnF,UAAU,yJACV,YAAY,8BAAA,CAAA,EAEd1K,EAAAA,KAAC,SAAA,CAAK,WAAA,sCACJ,QAAS0K,EACT,SAAUF,GAAW,CAACN,EAAI,KAAA,EAC1B,UAAU,wHACV,MAAO,CAAE,gBAAiB,SAAA,EAEzB,SAAA,CAAAM,EAAUvK,EAAAA,IAACE,EAAA,kDAAQ,KAAM,GAAI,UAAU,cAAA,CAAe,EAAKF,EAAAA,IAACtB,GAAA,kDAAK,KAAM,GAAI,EAAE,KAAA,CAAA,CAAA,CAEhF,EACF,EAEC2L,GAAcrK,EAAAA,IAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,8EAA+E,SAAAqK,EAAW,EAEvHF,GACCpK,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,uBACb,SAAA,CAAAA,EAAAA,KAAC,IAAA,kDAAE,UAAU,6BAA8B,SAAA,CAAAoK,EAAY,MAAM,gBAAA,EAAc,EAC1EA,EAAY,KAAK,OAAS,UACxB,QAAA,CAAI,WAAA,sCAAE,UAAU,iBACf,SAAA,CAAAnK,EAAAA,IAAC,QAAA,CAAI,WAAA,sCACH,SAAAA,EAAAA,IAAC,KAAA,CAAC,WAAA,sCAAE,UAAU,yCACX,SAAA,OAAO,KAAKmK,EAAY,KAAK,CAAC,CAAC,EAAE,IAAKO,GACrC1K,EAAAA,IAAC,KAAA,CAAC,WAAA,sCAAU,UAAU,oDAAqD,SAAA0K,CAAA,EAAlEA,CAAoE,CAC9E,EACH,EACF,QACC,QAAA,CAAI,WAAA,sCACF,SAAAP,EAAY,KAAK,IAAI,CAAC/I,EAAKuJ,IAC1B3K,EAAAA,IAAC,KAAA,kDAAW,UAAU,2CACnB,SAAA,OAAO,OAAOoB,CAAG,EAAE,IAAI,CAACwJ,EAAGC,UACzB,KAAA,CAAC,WAAA,sCAAU,UAAU,gEAAgE,MAAO,OAAOD,CAAC,EAClG,SAAA,OAAOA,GAAK,MAAM,GADZC,CAET,CACD,CAAA,EALMF,CAMT,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,CAAA,CAEJ,CAAA,EACF,CAEJ,CAIA,SAASxJ,EAAS,CAAE,MAAA2J,EAAO,MAAAC,GAA2C,CACpE,OACEhL,EAAAA,KAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,iDACb,SAAA,CAAAC,MAAC,IAAA,CAAA,WAAA,sCAAE,UAAU,gDAAiD,SAAA8K,EAAM,QACnE,IAAA,CAAA,WAAA,sCAAE,UAAU,yCAA0C,SAAAC,CAAA,CAAM,CAAA,EAC/D,CAEJ,CAEA,SAAS7J,GAAiB,CACxB,OACElB,EAAAA,IAAC,MAAA,CAAE,WAAA,sCAAE,UAAU,yCACb,SAAAA,EAAAA,IAACE,EAAA,CAAM,WAAA,sCAAE,KAAM,GAAI,UAAU,6BAA6B,EAC5D,CAEJ,CAEA,SAASwB,EAAa,CAAE,QAAAsJ,GAAgC,CACtD,aAAQ,MAAA,CAAE,WAAA,sCAAE,UAAU,4EAA6E,SAAAA,EAAQ,CAC7G,CAEA,SAASlF,EAAU,CAAE,MAAAgF,EAAO,SAAAG,EAAU,SAAAC,GAA8E,CAClH,OACEnL,EAAAA,KAAC,MAAA,CAAE,WAAA,sCACD,SAAA,CAAAA,EAAAA,KAAC,QAAA,CAAI,WAAA,sCAAE,UAAU,mDACd,SAAA,CAAA+K,EAAM,IAAEG,GAAYjL,EAAAA,IAAC,OAAA,CAAG,WAAA,sCAAE,UAAU,eAAe,SAAA,GAAA,CAAC,CAAA,EACvD,EACCkL,CAAA,EACH,CAEJ","x_google_ignoreList":[0,1,2,3,4,5,6,7,8]}