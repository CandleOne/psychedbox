import{c as b,p as R,j as e,S as x,T as j,m as g,a as p,L as N}from"./index-BDylZcvu.js";import{a as t}from"./sentry-CV5hkgyg.js";import{C as k}from"./circle-check-big-Bfavpt4D.js";function F(){b({title:"Reset Password — PsychedBox",description:"Set a new password for your PsychedBox account.",canonical:"/reset-password"});const w=R(),o=new URLSearchParams(w).get("token"),[r,m]=t.useState(""),[l,P]=t.useState(""),[n,s]=t.useState(""),[c,d]=t.useState(!1),[u,h]=t.useState(!1);async function y(a){if(a.preventDefault(),s(""),r.length<8){s("Password must be at least 8 characters");return}if(r!==l){s("Passwords do not match");return}d(!0);try{const i=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o,password:r}),credentials:"include"}),f=await i.json();i.ok?h(!0):s(f.error||"Something went wrong")}catch{s("Network error. Please try again.")}finally{d(!1)}}return o?e.jsxs("div",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:89",className:"min-h-screen bg-white",children:[e.jsx(x,{"data-loc":"client/src/pages/ResetPasswordPage.tsx:90"}),e.jsx("section",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:92",style:{backgroundColor:"#FF6B6B"},className:"px-6 py-16 md:py-20",children:e.jsxs("div",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:93",className:"max-w-5xl mx-auto",children:[e.jsx("p",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:94",className:"text-white/80 text-xs uppercase tracking-[0.2em] font-bold mb-4",children:"Account"}),e.jsx("h1",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:95",className:"text-white text-4xl md:text-6xl font-black leading-tight max-w-3xl mb-6",children:"Set New Password"}),e.jsx("p",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:96",className:"text-white text-lg md:text-xl max-w-3xl",children:"Choose a new password for your account."})]})}),e.jsx("section",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:100",className:"px-6 py-16",children:e.jsx("div",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:101",className:"max-w-md mx-auto",children:u?e.jsxs("div",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:103",className:"text-center space-y-4",children:[e.jsx(k,{"data-loc":"client/src/pages/ResetPasswordPage.tsx:104",size:48,className:"mx-auto text-green-500"}),e.jsx("h2",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:105",className:"text-xl font-bold text-gray-900",children:"Password updated!"}),e.jsx("p",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:106",className:"text-gray-600",children:"Your password has been reset successfully. You can now log in with your new password."}),e.jsx(g,{"data-loc":"client/src/pages/ResetPasswordPage.tsx:107",href:"/login",style:{backgroundColor:"#1a1a1a"},className:"inline-flex items-center justify-center px-6 py-3 rounded-lg text-white font-bold hover:opacity-90 transition-opacity",children:"Log In"})]}):e.jsxs("form",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:116",onSubmit:y,className:"space-y-5",children:[n&&e.jsx("div",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:118",className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:n}),e.jsxs("div",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:123",children:[e.jsx("label",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:124",htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"New Password"}),e.jsx("input",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:127",id:"password",type:"password",required:!0,autoComplete:"new-password",value:r,onChange:a=>m(a.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none",placeholder:"••••••••",minLength:8})]}),e.jsxs("div",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:140",children:[e.jsx("label",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:141",htmlFor:"confirm",className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Confirm New Password"}),e.jsx("input",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:144",id:"confirm",type:"password",required:!0,autoComplete:"new-password",value:l,onChange:a=>P(a.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 focus:border-[#FF6B6B] focus:ring-2 focus:ring-[#FF6B6B]/20 outline-none",placeholder:"••••••••",minLength:8})]}),e.jsxs("button",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:157",type:"submit",disabled:c,style:{backgroundColor:"#1a1a1a"},className:"w-full flex items-center justify-center gap-2 rounded-lg px-6 py-3 text-white font-bold hover:opacity-90 transition-opacity disabled:opacity-50",children:[c&&e.jsx(N,{"data-loc":"client/src/pages/ResetPasswordPage.tsx:163",size:16,className:"animate-spin"}),c?"Resetting…":"Reset Password"]})]})})}),e.jsx(p,{"data-loc":"client/src/pages/ResetPasswordPage.tsx:171"})]}):e.jsxs("div",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:61",className:"min-h-screen bg-white",children:[e.jsx(x,{"data-loc":"client/src/pages/ResetPasswordPage.tsx:62"}),e.jsx("section",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:63",style:{backgroundColor:"#FF6B6B"},className:"px-6 py-16 md:py-20",children:e.jsxs("div",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:64",className:"max-w-5xl mx-auto",children:[e.jsx("p",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:65",className:"text-white/80 text-xs uppercase tracking-[0.2em] font-bold mb-4",children:"Account"}),e.jsx("h1",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:66",className:"text-white text-4xl md:text-6xl font-black leading-tight max-w-3xl mb-6",children:"Reset Password"})]})}),e.jsx("section",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:69",className:"px-6 py-16",children:e.jsxs("div",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:70",className:"max-w-md mx-auto text-center space-y-4",children:[e.jsx(j,{"data-loc":"client/src/pages/ResetPasswordPage.tsx:71",size:48,className:"mx-auto text-yellow-500"}),e.jsx("h2",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:72",className:"text-xl font-bold text-gray-900",children:"Invalid reset link"}),e.jsx("p",{"data-loc":"client/src/pages/ResetPasswordPage.tsx:73",className:"text-gray-600",children:"This link is missing a reset token. Please request a new password reset."}),e.jsx(g,{"data-loc":"client/src/pages/ResetPasswordPage.tsx:74",href:"/forgot-password",style:{backgroundColor:"#1a1a1a"},className:"inline-flex items-center justify-center px-6 py-3 rounded-lg text-white font-bold hover:opacity-90 transition-opacity",children:"Request New Link"})]})}),e.jsx(p,{"data-loc":"client/src/pages/ResetPasswordPage.tsx:83"})]})}export{F as default};
//# sourceMappingURL=ResetPasswordPage-LvjGVmtT.js.map
